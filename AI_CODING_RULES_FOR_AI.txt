===============================================================================
AI CODING RULES & CRITICAL MISTAKES (CONSOLIDATED FOR AI)
===============================================================================
Version: 2.0 | Merged: 2025-12-27
This file combines common mistakes prevention and general coding rules.

PART 1: CRITICAL MISTAKES TO AVOID
(Read this section FIRST before generating any code)

===============================================================================
AI COMMON MISTAKES & HOW TO PREVENT THEM
===============================================================================
Version: 1.0 | For: AI Code Generators | Updated: 2025-12-27

This document lists the TOP 10 mistakes AI makes when coding and how to prevent them.
Read this BEFORE generating any code.

===============================================================================
MISTAKE_001: CODE TRUNCATION (ì½”ë“œ ì˜ë¦¼) - VERY COMMON
===============================================================================

SYMPTOMS:
  - íŒŒì¼ì„ ìˆ˜ì •í–ˆëŠ”ë° ì¼ë¶€ ì½”ë“œê°€ ì‚¬ë¼ì§
  - "... rest of code ..." ê°™ì€ ì£¼ì„ì´ ë‚˜íƒ€ë‚¨
  - íŒŒì¼ ëë¶€ë¶„ì´ ì˜ë ¤ë‚˜ê°
  - ì‚¬ìš©ìê°€ "ì½”ë“œê°€ ì˜ë ¸ì–´"ë¼ê³  ë¶ˆí‰

CAUSE:
  - write_to_fileë¡œ í° íŒŒì¼(50ì¤„ ì´ìƒ)ì„ ì „ì²´ ì¬ì‘ì„±
  - ì‘ë‹µ ê¸¸ì´ ì œí•œì— ê±¸ë ¤ì„œ ì¤‘ê°„ì— ëŠê¹€
  - ì „ì²´ íŒŒì¼ì„ ë‹¤ì‹œ ì“°ë ¤ë‹¤ê°€ ì‹¤íŒ¨

HOW TO PREVENT:
  1. NEVER use write_to_file for files > 50 lines
  2. ALWAYS use replace_file_content or multi_replace_file_content
  3. NEVER write placeholders like "... rest of code ..."
  4. ë³€ê²½ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì •í™•íˆ ìˆ˜ì •
  5. ì „ì²´ íŒŒì¼ ì¬ì‘ì„± ì ˆëŒ€ ê¸ˆì§€

CORRECT APPROACH:
  - Use replace_file_content
  - Specify exact TargetContent (ì•ë’¤ 5ì¤„ í¬í•¨)
  - Only replace what needs to change
  - Keep everything else intact

RECOVERY IF HAPPENED:
  - User command: git restore [file]
  - Apologize and redo with replace_file_content


===============================================================================
MISTAKE_002: API HALLUCINATION (ì¡´ì¬í•˜ì§€ ì•ŠëŠ” API ì‚¬ìš©) - CRITICAL
===============================================================================

SYMPTOMS:
  - í•¨ìˆ˜ í˜¸ì¶œ ì‹œ "undefined is not a function" ì—ëŸ¬
  - import ì‹œ "Module not found" ì—ëŸ¬
  - ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë©”ì„œë“œ ì‚¬ìš©
  - íŒŒë¼ë¯¸í„° ìˆœì„œ/íƒ€ì…ì´ í‹€ë¦¼

CAUSE:
  - ê³µì‹ ë¬¸ì„œ í™•ì¸ ì—†ì´ API ê°€ì •
  - ë¹„ìŠ·í•œ ì´ë¦„ì˜ ë‹¤ë¥¸ í•¨ìˆ˜ì™€ í˜¼ë™
  - ë²„ì „ ì°¨ì´ ë¬´ì‹œ (ì˜ˆ: ES2020 ê¸°ëŠ¥ì„ ES5ì—ì„œ ì‚¬ìš©)
  - ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ í˜¼ë™

HOW TO PREVENT (MANDATORY):
  1. BEFORE using any API/function:
     - search_official_docs: ê³µì‹ ë¬¸ì„œì—ì„œ í™•ì¸
     - check_version: ì‚¬ìš©ì í™˜ê²½ì—ì„œ ì§€ì›í•˜ëŠ”ì§€ í™•ì¸
     - verify_signature: íŒŒë¼ë¯¸í„°ì™€ ë°˜í™˜ê°’ í™•ì¸
  
  2. IF UNCERTAIN:
     - ASK user: "Does your version support [API]?"
     - NEVER assume it exists
  
  3. ADD COMMENT:
     - // Verified: Array.flatMap() available in ES2019+
     - // User version check: required

EXAMPLE CORRECT:
  // Verified: fetch() available in Node.js 18+
  // User confirmed Node 20.x
  const response = await fetch(url);

EXAMPLE WRONG:
  const response = await fetch(url); // No verification - DANGEROUS


===============================================================================
MISTAKE_003: OVERWRITING EXISTING CODE (ê¸°ì¡´ ì½”ë“œ ë®ì–´ì“°ê¸°)
===============================================================================

SYMPTOMS:
  - íŒŒì¼ ìˆ˜ì • í›„ ë‹¤ë¥¸ ê¸°ëŠ¥ì´ ì‚¬ë¼ì§
  - ì£¼ì„ì´ ëª¨ë‘ ì‚­ì œë¨
  - ê¸°ì¡´ ë¡œì§ì´ ì˜ë„ì¹˜ ì•Šê²Œ ë³€ê²½ë¨
  - ì‚¬ìš©ìê°€ "ì™œ ë‹¤ë¥¸ ë¶€ë¶„ë„ ë°”ë€Œì—ˆì–´?"

CAUSE:
  - write_to_fileë¡œ íŒŒì¼ ì „ì²´ë¥¼ ë‹¤ì‹œ ì‘ì„±
  - ê¸°ì¡´ ì½”ë“œë¥¼ ì œëŒ€ë¡œ ì½ì§€ ì•ŠìŒ
  - í•„ìš” ì´ìƒì˜ ë³€ê²½
  - ì£¼ì„ì„ ë¬´ì‹œí•˜ê³  ì‚­ì œ

HOW TO PREVENT:
  1. RULE: replace_file_content for surgical edits
  2. READ entire file FIRST
  3. Identify EXACT location to change
  4. Use TargetContent with exact match (including whitespace)
  5. PRESERVE comments unless explicitly wrong
  6. MINIMAL changes only

WORKFLOW:
  1. view_file to read current content
  2. Identify exact lines to change
  3. Copy TargetContent EXACTLY (with spaces/tabs)
  4. Create ReplacementContent with only needed changes
  5. KEEP everything else unchanged

NEVER:
  - Rewrite entire file when only 1 function needs change
  - Remove comments without reason
  - Change code style unless asked


===============================================================================
MISTAKE_004: SYNTAX ERRORS (ë¬¸ë²• ì˜¤ë¥˜)
===============================================================================

SYMPTOMS:
  - Uncaught SyntaxError
  - IndentationError (Python)
  - Missing parentheses, brackets, semicolons
  - Type errors

CAUSE:
  - No verification before submitting code
  - Copy-paste mistakes
  - Language syntax confusion (mixing JS and Python)
  - Incomplete code blocks

HOW TO PREVENT:
  1. ALWAYS run verification BEFORE submitting:
     JavaScript:
       - node --check [file]
       - eslint [file]
     
     Python:
       - python -m py_compile [file]
       - pylint [file]
  
  2. Complete all code blocks - no "..." placeholders
  
  3. Match brace/bracket/parenthesis pairs
  
  4. Follow language-specific syntax rules

CHECKLIST BEFORE SUBMIT:
  [ ] Syntax check passed
  [ ] No linter errors
  [ ] All brackets/braces matched
  [ ] Proper indentation
  [ ] No trailing commas in wrong places


===============================================================================
MISTAKE_005: IMPROPER GIT USAGE (ë¶€ì ì ˆí•œ Git ì‚¬ìš©)
===============================================================================

SYMPTOMS:
  - ë¹ˆë²ˆí•œ ì»¤ë°‹ìœ¼ë¡œ íˆìŠ¤í† ë¦¬ê°€ ì§€ì €ë¶„í•´ì§
  - AIê°€ ì½”ë“œë¥¼ ë§ì³¤ì„ ë•Œ ë§¹ëª©ì ìœ¼ë¡œ revertí•˜ì—¬ ë‹¤ë¥¸ ì‘ì—…ê¹Œì§€ ìœ ì‹¤ë¨
  - "ì´ì „ ì½”ë“œê°€ ì–´ë• ì§€?" ì°¸ê³ ë§Œ í•˜ê³  ì‹¶ì€ë° íŒŒì¼ ì „ì²´ê°€ ë˜ëŒì•„ê°

CAUSE:
  - ì‘ì—… ë‹¨ìœ„ê°€ ì•„ë‹Œ ì¤‘ê°„ ë‹¨ê³„ë§ˆë‹¤ ì»¤ë°‹ ë‚¨ë°œ
  - git restore/resetì˜ ë¬´ë¶„ë³„í•œ ì‚¬ìš©
  - ë³µêµ¬(Recovery)ì™€ ì°¸ì¡°(Reference)ì˜ êµ¬ë¶„ ë¶€ì¬

HOW TO PREVENT (USER RULE APPLIED):
  1. Commit only ONCE at the FINAL stage:
     - Do NOT commit frequently during intermediate steps.
     - Wait until the entire task/feature is successfully implemented.
     - COMMAND: git add . && git commit -m "Done: [Task Description]"
  
  2. If Code is Broken (Recovery Strategy):
     - ERROR: Do NOT use 'git restore' to blindly revert files.
     - CORRECT: Use Git to REFERENCE previous code.
     - COMMAND: git show HEAD:path/to/file
     - Compare previous code with current code, and manually fix only the broken parts.

REMINDER FOR AI:
  "Git is a safety net, but don't abuse it. Commit once at the end. Use Git history for REFERENCE, not just for rollback."

RECOVERY GUIDE:
  - If you need to see old code: git show HEAD:[filename]
  - Do NOT overwrite current work unless explicitly requested.


===============================================================================
MISTAKE_006: HARDCODED SECRETS (ë¹„ë°€ì •ë³´ í•˜ë“œì½”ë”©) - SECURITY RISK
===============================================================================

SYMPTOMS:
  - API keys in source code
  - Passwords in plain text
  - Tokens exposed
  - Database credentials in code

CAUSE:
  - Convenience over security
  - Not using environment variables
  - .env file committed to git

HOW TO PREVENT:
  1. NEVER accept secrets from user in chat
  
  2. ALWAYS use environment variables:
     CORRECT:
       import os
       api_key = os.getenv("API_KEY")
       
     WRONG:
       api_key = "sk-1234567890"  // NEVER DO THIS
  
  3. CHECK: .env file in .gitignore
  
  4. IF user shares secret:
     - WARN immediately: "Never share secrets with AI"
     - DELETE from conversation
     - Suggest environment variables

SECURITY CHECKLIST:
  [ ] No hardcoded passwords
  [ ] No API keys in code
  [ ] Environment variables used
  [ ] .env in .gitignore
  [ ] No secrets in git commits


===============================================================================
MISTAKE_007: EMPTY/INCOMPLETE ERROR HANDLING (ë¶ˆì™„ì „í•œ ì—ëŸ¬ ì²˜ë¦¬)
===============================================================================

SYMPTOMS:
  - Empty catch blocks
  - Errors silently ignored
  - Application crashes without logs
  - No fallback behavior

CAUSE:
  - Adding try-catch without content
  - Generic exception catching
  - No logging
  - No error recovery

HOW TO PREVENT:
  1. NEVER write empty catch blocks:
     WRONG:
       try {
         riskyOperation();
       } catch (e) {
         // Empty - FORBIDDEN
       }
  
  2. ALWAYS log with context:
     CORRECT:
       try {
         await riskyOperation();
       } catch (error) {
         logger.error('Operation failed', { 
           userId, 
           operation: 'riskyOperation',
           error: error.message 
         });
         return fallbackValue;
       }
  
  3. Catch specific errors, not generic
  
  4. Provide fallback/recovery

REQUIRED:
  - Logging with context (user_id, action, timestamp)
  - Specific error types
  - Fallback behavior
  - Finally blocks for cleanup


===============================================================================
MISTAKE_008: IGNORING EDGE CASES (ì—£ì§€ ì¼€ì´ìŠ¤ ë¬´ì‹œ)
===============================================================================

SYMPTOMS:
  - TypeError: Cannot read property of null
  - Empty array causes crash
  - Boundary value bugs (0, -1, MAX_INT)
  - Network timeout not handled

CAUSE:
  - Only testing happy path
  - Assuming input is always valid
  - Not testing edge cases

HOW TO PREVENT:
  1. ALWAYS handle edge cases:
     - null/undefined inputs
     - empty arrays/objects
     - boundary values (0, MAX_INT, MIN_INT)
     - network failures
     - concurrent requests
  
  2. Write tests for edge cases FIRST:
     TEST normal_case: valid input
     TEST null_input: null handling
     TEST empty_array: empty collection
     TEST boundary_max: MAX_INT
     TEST boundary_min: 0 or MIN_INT
     TEST network_fail: timeout/error

EXAMPLE:
  function processArray(items) {
    // Edge case: null check
    if (!items) return [];
    
    // Edge case: empty array
    if (items.length === 0) return [];
    
    // Edge case: boundary
    if (items.length > MAX_ITEMS) {
      throw new Error(`Too many items: ${items.length}`);
    }
    
    // Normal processing
    return items.map(process);
  }


===============================================================================
MISTAKE_009: BREAKING CHANGES WITHOUT WARNING (ê²½ê³  ì—†ëŠ” íŒŒê´´ì  ë³€ê²½)
===============================================================================

SYMPTOMS:
  - ê¸°ì¡´ ì½”ë“œê°€ ì‘ë™ ì•ˆ í•¨
  - í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ ë³€ê²½
  - API ì¸í„°í˜ì´ìŠ¤ ë³€ê²½
  - ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì—ëŸ¬ ë°œìƒ

CAUSE:
  - Refactoring without considering impact
  - Changing public interfaces
  - Not tracking dependencies

HOW TO PREVENT:
  1. BEFORE making breaking changes:
     - WARN user explicitly
     - LIST affected files/functions
     - EXPLAIN impact
  
  2. When refactoring:
     - preserve_behavior: no logic changes
     - preserve_api: public interfaces unchanged
     - preserve_tests: existing tests must pass
  
  3. TAG response with "Breaking Change"
  
  4. Provide migration guide

EXAMPLE RESPONSE:
  "WARNING: Breaking Change
  
  This change modifies the function signature:
  - OLD: processData(data)
  - NEW: processData(data, options)
  
  Affected files:
  - src/service.js (line 45)
  - tests/service.test.js (line 12)
  
  Do you want to proceed?"


===============================================================================
MISTAKE_010: NO TESTS (í…ŒìŠ¤íŠ¸ ì—†ìŒ)
===============================================================================

SYMPTOMS:
  - Code works in demo, breaks in production
  - Regression bugs
  - Fear of changing code
  - Unknown coverage

CAUSE:
  - Generating code without tests
  - "Will test later" mentality
  - Not following TDD

HOW TO PREVENT:
  1. FOLLOW TDD:
     a. Write tests FIRST
     b. Run tests (they should FAIL)
     c. Write minimal code to pass
     d. Verify tests PASS
     e. Refactor
  
  2. MINIMUM coverage: 80%
  
  3. Test categories:
     - Unit tests: individual functions
     - Integration tests: components together
     - Edge case tests: boundary conditions
  
  4. ALWAYS include tests in response

TEMPLATE:
  // Implementation
  function add(a, b) {
    return a + b;
  }
  
  // Tests
  describe('add', () => {
    it('should add two numbers', () => {
      expect(add(2, 3)).toBe(5);
    });
    
    it('should handle negative numbers', () => {
      expect(add(-1, -1)).toBe(-2);
    });
    
    it('should handle zero', () => {
      expect(add(0, 5)).toBe(5);
    });
  });


===============================================================================
QUICK MISTAKE RECOVERY GUIDE
===============================================================================

IF AI BREAKS CODE:
  1. STAY CALM - git can save you
  2. git restore [file]          (íŒŒì¼ ì¦‰ì‹œ ë³µì›)
  3. git reset --soft HEAD~1     (ì»¤ë°‹ ì·¨ì†Œ, ë³€ê²½ ìœ ì§€)
  4. Review what went wrong
  5. Be MORE SPECIFIC in next request

IF AI USES NON-EXISTENT API:
  1. STOP - don't use the code
  2. ASK AI: "Verify [function] exists in official docs for [version]"
  3. CHECK user's version compatibility
  4. USE verified alternative
  5. DEMAND AI to always verify before using APIs

IF CODE GETS TRUNCATED:
  1. git restore [file]
  2. TELL AI: "Use replace_file_content, NOT write_to_file"
  3. SPECIFY: "Change only lines X-Y, keep everything else"
  4. VERIFY AI understands RULE_002

IF SECURITY ISSUE FOUND:
  1. git restore [file]          (ì¦‰ì‹œ ì œê±°)
  2. git reset --soft HEAD~1     (íŠ¸ë™í‚¹ ì œê±°)
  3. CHECK: .gitignore includes .env
  4. RE-IMPLEMENT with security in mind
  5. RUN security scan: npm audit / safety check

IF TESTS FAIL:
  1. DON'T commit
  2. READ error messages carefully
  3. FIX code OR fix tests
  4. VERIFY all tests pass
  5. Then commit

IF LINTER FAILS:
  1. RUN: eslint --fix [file] OR black [file]
  2. CHECK remaining errors
  3. FIX manually if auto-fix doesn't work
  4. VERIFY: linter warnings = 0


===============================================================================
AI SELF-CHECK BEFORE SUBMITTING CODE
===============================================================================

BEFORE submitting ANY code, verify ALL these are YES:

[ ] Did I use replace_file_content for files > 50 lines?
[ ] Did I verify all APIs exist in official documentation?
[ ] Did I preserve existing code/comments I shouldn't change?
[ ] Did I run syntax check (node --check / python -m py_compile)?
[ ] Did I handle edge cases (null, empty, boundary)?
[ ] Did I add proper error handling (no empty catch)?
[ ] Did I avoid hardcoding secrets?
[ ] Did I write/update tests?
[ ] Did I check for breaking changes?
[ ] Would this work in production?

If ANY answer is NO:
  - FIX it before submitting
  - OR ASK user for clarification
  - NEVER submit broken/incomplete code


===============================================================================
REMINDER FOR AI
===============================================================================

Top 3 Rules to NEVER break:
  1. Git Safety: ALWAYS create safety commit first
  2. No Code Truncation: Use replace_file_content for large files
  3. No Hallucination: Verify APIs exist before using

When in doubt:
  - ASK the user
  - Check official documentation
  - Be conservative and safe

Security > Speed > Perfection


===============================================================================
PART 2: GENERAL CODING PROTOCOLS
===============================================================================

===============================================================================
===============================================================================

ğŸ“š ì´ ë¬¸ì„œëŠ”: ê°œë°œìê°€ ì½ê³  í•™ìŠµí•˜ê¸° ìœ„í•œ ìƒì„¸í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.
ğŸ¤– AIìš© ë²„ì „: AI_CODING_RULES_FOR_AI.txt (ê°„ê²°í•˜ê³  êµ¬ì¡°í™”ëœ ìˆœìˆ˜ í…ìŠ¤íŠ¸ ë²„ì „)

ì‚¬ìš© ë°©ë²•:
- ê°œë°œì: ì´ íŒŒì¼(AI_CODING_RULES.txt)ì„ ì½ê³  AI ì½”ë”© ì›ì¹™ì„ í•™ìŠµí•˜ì„¸ìš”
- ë‘ íŒŒì¼ ëª¨ë‘ ë™ì¼í•œ ê·œì¹™ì„ ë‹´ê³  ìˆì§€ë§Œ, í‘œí˜„ ë°©ì‹ì´ ë‹¤ë¦…ë‹ˆë‹¤

ì´ ë¬¸ì„œì˜ íŠ¹ì§•:

===============================================================================

# AI CODING MASTER PROTOCOL

## HUMAN_GUIDE_KR - ì‚¬ëŒì„ ìœ„í•œ ì‚¬ìš© ì„¤ëª…
- ì´ ë¬¸ì„œëŠ” AIì—ê²Œ "ì½”ë“œë¥¼ ì–´ë–»ê²Œ ì§œì•¼ í•˜ëŠ”ì§€"ë¥¼ ì•Œë ¤ì£¼ëŠ” ìƒì„¸ ê·œì¹™ ëª¨ìŒì´ë‹¤.
- ì‚¬ëŒ(ê°œë°œì)ì€ AIì—ê²Œ ìš”ì²­ì„ ì¤„ ë•Œ, ì•„ë˜ì— ì •ì˜ëœ SECTION ì´ë¦„ê³¼ RULE_IDë¥¼ ê°™ì´ ì–¸ê¸‰í•˜ë©´ ì¢‹ë‹¤.
- AIëŠ” ì½”ë“œë¥¼ ìƒì„±í•˜ê¸° ì „/í›„ì— ì´ ë¬¸ì„œë¥¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ì²˜ëŸ¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
- ì¤‘ìš”í•œ ë³´ì•ˆ ì›ì¹™: ë¹„ë°€ë²ˆí˜¸, API í‚¤, í† í°, ê°œì¸ì •ë³´ ë“± **ë¹„ë°€ ì •ë³´ëŠ” AIì—ê²Œ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ì§€ ì•ŠëŠ”ë‹¤.**
- ì™¸ë¶€ì—ì„œ ê°€ì ¸ì˜¨ ì½”ë“œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë¼ì´ì„ ìŠ¤ì™€ ì¶œì²˜ë¥¼ ë°˜ë“œì‹œ í™•ì¸í•˜ê³ , í•„ìš”í•œ ê²½ìš° ì£¼ì„ì— ëª…ì‹œí•œë‹¤.

[CORE_MISSION]

---

## SECTION 0: [GENERAL_AI_CODING_RULES] - ê¸°ë³¸ í–‰ë™ ìˆ˜ì¹™
[RULE_ID: GENERAL_001]
- AIëŠ” **í•„ìš” ì´ìƒìœ¼ë¡œ êµ¬ì¡°ë¥¼ ê°ˆì•„ì—ì§€ ì•Šê³ **, ê¸°ì¡´ ì½”ë“œ ë² ì´ìŠ¤ì™€ ìŠ¤íƒ€ì¼ì„ ìµœëŒ€í•œ ì¡´ì¤‘í•œë‹¤.
- ìƒˆ ê¸°ëŠ¥ êµ¬í˜„ ìš”ì²­ì´ë¼ë„, ê°€ëŠ¥í•œ í•œ **ì‘ì€ ë‹¨ìœ„ ë³€ê²½**ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ì œì•ˆí•˜ê³ , ê° ë‹¨ìœ„ë§ˆë‹¤ ë³€ê²½ ì´ìœ ì™€ ì˜í–¥ì„ ì„¤ëª…í•œë‹¤.
- ë²„ê·¸ ìˆ˜ì • ìš”ì²­ì—ì„œëŠ”, (1) ì¬í˜„ ì¡°ê±´, (2) ì›ì¸ ì¶”ë¡ , (3) ìˆ˜ì • ì½”ë“œ, (4) ì˜í–¥ ë²”ìœ„ ìˆœì„œë¡œ ì„¤ëª…í•œë‹¤.
- ë¦¬íŒ©í† ë§ ìš”ì²­ì´ ì•„ë‹Œ ì´ìƒ, ê¸°ì¡´ í•¨ìˆ˜/í´ë˜ìŠ¤ì˜ **ì™¸ë¶€ ë™ì‘(ì…ë ¥/ì¶œë ¥, ì˜ˆì™¸ íƒ€ì…, ê³µê°œ ì¸í„°í˜ì´ìŠ¤)**ì„ í•¨ë¶€ë¡œ ë°”ê¾¸ì§€ ì•ŠëŠ”ë‹¤.
- ê¸°ì¡´ íŒŒì¼/í”„ë¡œì íŠ¸ì— ì´ë¯¸ ì¡´ì¬í•˜ëŠ” **ë„¤ì´ë° ê·œì¹™, ë“¤ì—¬ì“°ê¸°, ì–¸ì–´/í”„ë ˆì„ì›Œí¬ ë²„ì „**ì„ ìš°ì„  ê¸°ì¤€ìœ¼ë¡œ ì‚¼ëŠ”ë‹¤.
- ì‚¬ìš©í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬/í”„ë ˆì„ì›Œí¬ì˜ APIê°€ í™•ì‹¤í•˜ì§€ ì•Šìœ¼ë©´, ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê±°ë‚˜ ì‚¬ìš©ìì—ê²Œ ë²„ì „/í™˜ê²½ì„ ì§ˆë¬¸í•œ ë’¤ì— ì‚¬ìš©í•œë‹¤.
- ì½”ë“œ ì¡°ê°ë§Œ ìˆ˜ì •í•˜ëŠ” ê²½ìš°, ì „ì²´ íŒŒì¼ì„ ë‹¤ì‹œ ì“°ê¸°ë³´ë‹¤ **ë³€ê²½ëœ ë¶€ë¶„ ìœ„ì£¼ë¡œ ì„¤ëª…**í•˜ê³ , ê°€ëŠ¥í•œ í•œ diff/ë¶€ë¶„ ì½”ë“œ í˜•íƒœë¡œ ì œì•ˆí•œë‹¤.

## SECTION 1: [MODULARITY_CONSTRAINT] - 250ì¤„ ê·œì¹™ (ëª¨ë“ˆí™” ì œì•½ì¡°ê±´)
[RULE_ID: MOD_001]
- **CONSTRAINT (ì œì•½)**: ëª¨ë“  ì†ŒìŠ¤ íŒŒì¼ì˜ ìµœëŒ€ ê¸¸ì´ëŠ” 250ì¤„(Lines)ë¡œ ì œí•œí•œë‹¤.
- **TRIGGER (ë°œë™ ì¡°ê±´)**: íŒŒì¼ì´ 240ì¤„ì— ë„ë‹¬í•˜ë©´ ì¦‰ì‹œ ë¦¬íŒ©í† ë§ ëª¨ë“œë¡œ ì „í™˜í•œë‹¤.
- **ACTION (í–‰ë™)**: 250ì¤„ì„ ì´ˆê³¼í•˜ëŠ” íŒŒì¼ì— ëŒ€í•œ ê¸°ëŠ¥ ì¶”ê°€ ìš”ì²­ì„ ë°›ìœ¼ë©´, ë°˜ë“œì‹œ "íŒŒì¼ ë¶„ë¦¬ ì„¤ê³„ì•ˆ"ì„ ë¨¼ì € ì œì‹œí•˜ê³  ìŠ¹ì¸ í›„ ì‘ì—…ì„ ì‹œì‘í•œë‹¤.
- **LOGIC (ë…¼ë¦¬)**: SRP(Single Responsibility Principle, ë‹¨ì¼ ì±…ì„ ì›ì¹™)ì— ë”°ë¼ UI, Logic, Assets, Input, Main ë“±ìœ¼ë¡œ ê¸°ëŠ¥ì„ ë¶„ë¦¬í•œë‹¤.

---

## SECTION 2: [ADVANCED_PROMPTING] - ê³ ê¸‰ í”„ë¡¬í”„íŒ… ê¸°ë²• (ì¶”ë¡  í”„ë ˆì„ì›Œí¬)

### 2.1 Chain-of-Thought (CoT) Prompting - ì‚¬ê³ ì˜ ì—°ì‡„ ê¸°ë²•

**Zero-Shot CoT**:
```
"Let's solve this step by step:
1. [First step analysis]
2. [Second step reasoning]
3. [Final implementation]"
```

**Few-Shot CoT**:
```
Example 1: [Input] â†’ [Step 1] â†’ [Step 2] â†’ [Output]
Example 2: [Input] â†’ [Step 1] â†’ [Step 2] â†’ [Output]

Now solve: [Your problem]
```

**ìë™ CoT (Auto-CoT)**: ë¹„ìŠ·í•œ ë¬¸ì œë“¤ì„ í´ëŸ¬ìŠ¤í„°ë§í•˜ê³  ê° í´ëŸ¬ìŠ¤í„°ì—ì„œ ëŒ€í‘œ ì˜ˆì‹œë¥¼ ìë™ ìƒì„±

### 2.2 Tree-of-Thought (ToT) Prompting - ì‚¬ê³ ì˜ ë‚˜ë¬´ ê¸°ë²•

```
Problem: [ë³µì¡í•œ ì„¤ê³„ ë¬¸ì œ]

Approach 1: [ë°©ë²• A]
  Pros: [ì¥ì ]
  Cons: [ë‹¨ì ]
  Feasibility: [ì‹¤í˜„ ê°€ëŠ¥ì„±]

Approach 2: [ë°©ë²• B]
  Pros: [ì¥ì ]
  Cons: [ë‹¨ì ]
  Feasibility: [ì‹¤í˜„ ê°€ëŠ¥ì„±]

Approach 3: [ë°©ë²• C]
  Pros: [ì¥ì ]
  Cons: [ë‹¨ì ]
  Feasibility: [ì‹¤í˜„ ê°€ëŠ¥ì„±]

Best choice: [ì„ íƒëœ ë°©ë²•] because [ì´ìœ ]
```

**ToT 4ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤**:
1. **Decompose**: ë¬¸ì œë¥¼ ì¤‘ê°„ ë‹¨ê³„ë¡œ ë¶„í•´
2. **Generate**: ê° ë‹¨ê³„ë§ˆë‹¤ ì—¬ëŸ¬ ì‚¬ê³  ê²½ë¡œ ìƒì„±
3. **Evaluate**: ê° ê²½ë¡œì˜ ê°€ëŠ¥ì„± í‰ê°€
4. **Backtrack**: í•„ìš”ì‹œ ì´ì „ ë…¸ë“œë¡œ ë˜ëŒì•„ê°€ ë‹¤ë¥¸ ê²½ë¡œ íƒìƒ‰

### 2.3 ReAct (Reasoning + Acting) Prompting - ì¶”ë¡ ê³¼ í–‰ë™ ê¸°ë²•

```
Task: [ë³µì¡í•œ ì‘ì—…]

Thought 1: I need to [ë¶„ì„]
Action 1: Search[í‚¤ì›Œë“œ] or Execute[ì½”ë“œ]
Observation 1: [ê²°ê³¼]

Thought 2: Based on the observation, I should [ë‹¤ìŒ ë‹¨ê³„]
Action 2: [ì•¡ì…˜]
Observation 2: [ê²°ê³¼]

Thought 3: Now I can [ìµœì¢… ê²°ì •]
Action 3: Finish[ì†”ë£¨ì…˜]
```

**ReAct vs CoT**:
- ReAct: ì‹¤ì‹œê°„ í”¼ë“œë°±, ë„êµ¬ ì‚¬ìš©, ìê°€ ìˆ˜ì •
- CoT: ìˆœìˆ˜ ì¶”ë¡ , ì„ í˜• íë¦„, ë‚´ë¶€ ì§€ì‹ í™œìš©

### 2.4 Structured CoT (SCoT) for Code Generation - êµ¬ì¡°í™”ëœ ì‚¬ê³ ì˜ ì—°ì‡„ ê¸°ë²•

```
Requirements: [ìš”êµ¬ì‚¬í•­]

Structured Reasoning:
1. Sequential Logic:
   - Step A: [ìˆœì°¨ ë‹¨ê³„]
   - Step B: [ìˆœì°¨ ë‹¨ê³„]

2. Branch Logic:
   - If [ì¡°ê±´]: [ì²˜ë¦¬]
   - Else: [ëŒ€ì²´ ì²˜ë¦¬]

3. Loop Logic:
   - For each [í•­ëª©]: [ë°˜ë³µ ì‘ì—…]
   - While [ì¡°ê±´]: [ê³„ì† ì‘ì—…]

Final Code: [êµ¬ì¡°í™”ëœ ì½”ë“œ]
```

### 2.5 Prompt Chaining - í”„ë¡¬í”„íŠ¸ ì—°ê²° ê¸°ë²•

```
Prompt 1: "Analyze the requirements and create a high-level design"
â†’ Output 1: [ì„¤ê³„ì•ˆ]

Prompt 2: "Based on the design: [ì„¤ê³„ì•ˆ], implement the data models"
â†’ Output 2: [ë°ì´í„° ëª¨ë¸]

Prompt 3: "Using these models: [ë°ì´í„° ëª¨ë¸], create the API endpoints"
â†’ Output 3: [API ì½”ë“œ]
```

---

## SECTION 3: [PCTF_FRAMEWORK] - êµ¬ì¡°í™”ëœ í”„ë¡¬í”„íŒ…

```
[PERSONA - ì—­í• ]: 

[CONTEXT - ë§¥ë½]:
- Project Type (í”„ë¡œì íŠ¸ ì¢…ë¥˜): [ì›¹ì•±/CLI/ë¼ì´ë¸ŒëŸ¬ë¦¬]
- Tech Stack (ê¸°ìˆ  ìŠ¤íƒ): [ê¸°ìˆ  ìŠ¤íƒ]
- Current State (í˜„ì¬ ìƒíƒœ): [í˜„ì¬ ìƒíƒœ]
- Constraints (ì œì•½ì‚¬í•­): [ì„±ëŠ¥, ë³´ì•ˆ, í˜¸í™˜ì„±]
- Environment (í™˜ê²½): [ê°œë°œ/ìŠ¤í…Œì´ì§•/í”„ë¡œë•ì…˜]

[TASK - ì‘ì—…]:
- Primary Goal (ì£¼ìš” ëª©í‘œ): [ì£¼ìš” ëª©í‘œ]
- Requirements (ìš”êµ¬ì‚¬í•­): [êµ¬ì²´ì  ìš”êµ¬ì‚¬í•­ ë‚˜ì—´]
- Edge Cases (ì—£ì§€ ì¼€ì´ìŠ¤): [null, ë¹ˆ ê°’, ê²½ê³„ê°’, íƒ€ì… ë¶ˆì¼ì¹˜, ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ë“±]
- Success Criteria (ì„±ê³µ ê¸°ì¤€): [ì„±ê³µ ê¸°ì¤€]

[FORMAT - ì¶œë ¥ í˜•ì‹]:
- Output Style (ì¶œë ¥ ìŠ¤íƒ€ì¼): [í•¨ìˆ˜/í´ë˜ìŠ¤/ëª¨ë“ˆ]
- Naming Convention (ì´ë¦„ ê·œì¹™): [camelCase/snake_case/PascalCase]
- Error Handling (ì—ëŸ¬ ì²˜ë¦¬ ë°©ì‹): [try-catch/Result íƒ€ì…/ì—ëŸ¬ ì½”ë“œ]
- Documentation (ë¬¸ì„œí™”): [JSDoc/Docstring/ì¸ë¼ì¸ ì£¼ì„]
- Test Coverage (í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€): [ìœ ë‹› í…ŒìŠ¤íŠ¸ í¬í•¨ ì—¬ë¶€]
```

### PCTF ì˜ˆì‹œ
```
[PERSONA]: Act as a senior backend engineer with expertise in Python and RESTful APIs

[CONTEXT]:
- Project: E-commerce API
- Stack: FastAPI, PostgreSQL, Redis
- Current: Basic CRUD operations exist
- Constraints: Must handle 1000 req/sec, PCI-DSS compliant
- Environment: Production

[TASK]:
- Goal: Implement secure payment processing endpoint
- Requirements:
  1. Validate payment data (card number, CVV, expiry)
  2. Tokenize sensitive data before storage
  3. Integrate with Stripe API
  4. Handle idempotency for duplicate requests
  5. Log all transactions for audit
- Edge Cases: Invalid cards, network timeouts, duplicate submissions, partial failures
- Success: 99.9% uptime, <200ms response time, zero data leaks

[FORMAT]:
- Output: FastAPI route with Pydantic models
- Naming: snake_case
- Error Handling: HTTPException with detailed error codes
- Documentation: Docstrings + OpenAPI schema
- Tests: pytest with 90%+ coverage
```

---

## SECTION 4: [Q&A_STRATEGY] - ì„ -ì§ˆë¬¸ ì ‘ê·¼ë²•
[RULE_ID: QA_001]


### Q&A í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
```
1. Specific requirements and constraints
2. Expected behavior and edge cases
3. Performance and scalability needs
4. Security and compliance requirements
5. Integration with existing systems

```

### Q&A ì‹¤í–‰ ì˜ˆì‹œ
```
User: "ì‚¬ìš©ì ì¸ì¦ ì‹œìŠ¤í…œì„ ë§Œë“¤ì–´ì¤˜"

AI: "êµ¬í˜„í•˜ê¸° ì „ì— ëª‡ ê°€ì§€ ì§ˆë¬¸ë“œë¦½ë‹ˆë‹¤:

1. ì¸ì¦ ë°©ì‹:
   - JWT í† í° ê¸°ë°˜? Session ê¸°ë°˜? OAuth2?
   - ì†Œì…œ ë¡œê·¸ì¸(Google, GitHub) í•„ìš”í•œê°€ìš”?

2. ë³´ì•ˆ ìš”êµ¬ì‚¬í•­:
   - ë¹„ë°€ë²ˆí˜¸ ì •ì±…ì€? (ìµœì†Œ ê¸¸ì´, ë³µì¡ë„)
   - 2FA(ì´ì¤‘ ì¸ì¦) í•„ìš”í•œê°€ìš”?
   - Rate limiting í•„ìš”í•œê°€ìš”?

3. í™•ì¥ì„±:
   - ì˜ˆìƒ ì‚¬ìš©ì ìˆ˜ëŠ”?
   - Redis ê°™ì€ ìºì‹œ ì‚¬ìš© ê°€ëŠ¥í•œê°€ìš”?

4. ê¸°ì¡´ ì‹œìŠ¤í…œ:
   - ì‚¬ìš© ì¤‘ì¸ í”„ë ˆì„ì›Œí¬ëŠ”? (Express, FastAPI, Spring)
   - DBëŠ”? (PostgreSQL, MongoDB, MySQL)

```

---

## SECTION 5: [STEP_BY_STEP_VERIFICATION] - ë‹¨ê³„ë³„ ê²€ì¦ (ì ì§„ì  ìŠ¹ì¸)
[RULE_ID: STEP_001]


### Step-by-Step í”„ë¡¬í”„íŠ¸
```

After each step:
1. Explain what you changed and why
2. Show the impact (affected files, functions)
3. Wait for my approval before continuing"
```

### ì‹¤í–‰ ì˜ˆì‹œ
```
AI: "Step 1: Analyze current code structure

I've identified these issues in service.js:
- 5 unrelated functions (user, product, order, payment, email)
- Duplicated error handling in 8 places
- 3 functions over 100 lines each

Recommendation: Split into 5 separate modules
- user-service.js
- product-service.js
- order-service.js
- payment-service.js
- email-service.js

Type 'next' to proceed with Step 2: Create module interfaces"

[User types 'next']

AI: "Step 2: Create module interfaces

Creating TypeScript interfaces for each module:
[ì½”ë“œ í‘œì‹œ]

Type 'next' for Step 3: Extract user service module"
```

---

## SECTION 6: [RUBBER_DUCK_DEBUGGING] - ëŸ¬ë²„ë• ë””ë²„ê¹… (ì„¤ëª…ì„ í†µí•œ í•´ê²°)
[RULE_ID: DUCK_001]


### Rubber Duck Prompting
```

Rules:
1. Let me explain first - don't interrupt immediately
2. Ask clarifying questions when something doesn't make sense
3. Point out logical flaws or assumptions
4. Suggest edge cases I might have missed
5. Help me realize the bug through Socratic questioning


Here's my code:
[ì½”ë“œ ë¶™ì—¬ë„£ê¸°]

```

### AI Rubber Duck ì‹¤í–‰ ì˜ˆì‹œ
```
User: "ì´ í•¨ìˆ˜ê°€ í° ì…ë ¥ì—ì„œ ë„ˆë¬´ ëŠë ¤. í•œ ì¤„ì”© ì„¤ëª…í• ê²Œ."

def fibonacci(n):
    if n <= 1:
    else:


AI: "ì ê¹ìš”. n=100ì´ë©´ ì–´ë–»ê²Œ ë˜ë‚˜ìš”? ì´ í•¨ìˆ˜ëŠ” ëª‡ ë²ˆ í˜¸ì¶œë ê¹Œìš”?"

User: "ìŒ... fibonacci(99)ì™€ fibonacci(98)ì„ ê°ê° í˜¸ì¶œí•˜ê³ ... 

AI: "ì •í™•í•©ë‹ˆë‹¤! ì´ê±¸ exponential time complexityë¼ê³  í•˜ì£ . 

User: "ë©”ëª¨ì´ì œì´ì…˜! í•œ ë²ˆ ê³„ì‚°í•œ ê°’ì„ ìºì‹œì— ì €ì¥í•˜ë©´..."

AI: "ë°”ë¡œ ê·¸ê²ë‹ˆë‹¤! Dynamic Programming ì ‘ê·¼ì´ë„¤ìš”. êµ¬í˜„í•´ë³¼ê¹Œìš”?"
```

### ê³ ê¸‰ Rubber Duck Personas
```
"Act as a [ì„ íƒ]:
- Debugging Assistant: ì²´ê³„ì ìœ¼ë¡œ ë¬¸ì œë¥¼ ì§„ë‹¨
- Security Auditor: ë³´ì•ˆ ì·¨ì•½ì  ê´€ì ì—ì„œ ì§ˆë¬¸
- Performance Engineer: ì„±ëŠ¥ ë³‘ëª© ì°¾ê¸°
- Naive Listener: ë¹„ì „ë¬¸ê°€ ê´€ì ì—ì„œ ì´í•´ í™•ì¸
- Socratic Teacher: ì§ˆë¬¸ì„ í†µí•´ ìŠ¤ìŠ¤ë¡œ ê¹¨ë‹«ê²Œ ìœ ë„"
```

---

## SECTION 7: [ROLE_BASED_PROMPTING] - ì—­í•  ê¸°ë°˜ í”„ë¡¬í”„íŒ… (ì „ë¬¸ê°€ ì—­í•  ë¶€ì—¬)
[RULE_ID: ROLE_001]


### Persona ì¹´íƒˆë¡œê·¸

**1. Senior Software Architect (ì‹œë‹ˆì–´ ì†Œí”„íŠ¸ì›¨ì–´ ì•„í‚¤í…íŠ¸)**
```
Review this system design considering:
- Scalability (10x growth)
- Maintainability (5+ years)
- Technology choices (trade-offs)
- Team size and skills
- Budget constraints"
```

**2. Security Specialist (ë³´ì•ˆ ì „ë¬¸ê°€)**
```
Audit this code for:
- OWASP Top 10 vulnerabilities
- Authentication/Authorization flaws
- Data encryption gaps
- SQL/XSS/CSRF risks
- Secrets management
```

**3. Performance Engineer (ì„±ëŠ¥ ì—”ì§€ë‹ˆì–´)**
```
Analyze this code for:
- Time complexity (Big O)
- Space complexity
- Database query optimization
- Caching opportunities
- Parallelization potential
```

**4. Code Reviewer (Google ìŠ¤íƒ€ì¼ ì½”ë“œ ë¦¬ë·°ì–´)**
```
Check for:
- Readability and clarity
- Naming conventions
- Function length (<50 lines)
- Cyclomatic complexity (<10)
- Test coverage (>80%)
- Documentation completeness"
```

**5. DevOps Engineer (ë°ë¸Œì˜µìŠ¤ ì—”ì§€ë‹ˆì–´)**
```
Review for:
- Containerization readiness
- 12-factor app compliance
- Monitoring and observability
- Deployment strategies (blue-green, canary)
- Infrastructure as Code"
```

**6. Accessibility Expert (ì ‘ê·¼ì„± ì „ë¬¸ê°€)**
```
Check for:
- Semantic HTML
- ARIA labels
- Keyboard navigation
- Screen reader compatibility
- Color contrast ratios"
```

---

## SECTION 8: [EDITING_PROTOCOL] - í¸ì§‘ í”„ë¡œí† ì½œ (ì™¸ê³¼ì  íŒ¨ì¹˜ ì „ìš©)
[RULE_ID: EDIT_001]
- **PROHIBITION**: 50ì¤„ ì´ìƒì˜ íŒŒì¼ì— ëŒ€í•´ `write_to_file`ì„ í†µí•œ ì „ì²´ ë®ì–´ì“°ê¸°ë¥¼ ì—„ê²©íˆ ê¸ˆì§€í•œë‹¤.
- **MANDATE**: ë°˜ë“œì‹œ `replace_file_content` ë˜ëŠ” `multi_replace_file_content`ë¥¼ ì‚¬ìš©í•œë‹¤.
- **ANCHOR_VALIDATION**: ìˆ˜ì •í•  ë¸”ë¡ì˜ ì•ë’¤ 5ì¤„(Context)ì„ ì•µì»¤ë¡œ ì§€ì •í•˜ì—¬ ìœ„ì¹˜ ì˜¤ì°¨ë¥¼ ë°©ì§€í•œë‹¤.
- **NO_PLACEHOLDER**: "// ... (ê¸°ì¡´ ì½”ë“œ ë™ì¼)"ê³¼ ê°™ì€ ìƒëµ ì£¼ì„ì„ ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ëª¨ë“  ì¶œë ¥ì€ ì™„ì „í•œ ì‹¤í–‰ ê°€ëŠ¥ ì½”ë“œì—¬ì•¼ í•œë‹¤.
- **PRESERVE_COMMENTS_KR**: ê¸°ì¡´ ì½”ë“œì˜ ì£¼ì„ì´ë‚˜ ë¬¸ì„œ(docstring)ëŠ” AIê°€ ì„ì˜ë¡œ ì‚­ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. ì£¼ì„ ë‚´ìš©ì´ ëª…ë°±íˆ í‹€ë ¸ê±°ë‚˜ ì˜¤ë˜ëœ ê²½ìš°ì—ë§Œ ìˆ˜ì • ë˜ëŠ” ì‚­ì œë¥¼ ì œì•ˆí•˜ê³ , ê·¸ ì™¸ì—ëŠ” ìµœëŒ€í•œ ì›ë³¸ì„ ìœ ì§€í•œë‹¤. (í•œêµ­ì–´: ê¸°ì¡´ ì£¼ì„ ë³´ì¡´ ì›ì¹™)
- **HUMAN_FRIENDLY_COMMENT_KR**: ìƒˆë¡œ ì¶”ê°€í•˜ê±°ë‚˜ ë³µì¡í•˜ê²Œ ìˆ˜ì •í•˜ëŠ” ì½”ë“œ ë¸”ë¡ì—ëŠ”, ë‹¤ë¥¸ ê°œë°œì(ì‚¬ëŒ)ê°€ ì‰½ê²Œ ì´í•´í•  ìˆ˜ ìˆë„ë¡ **í•µì‹¬ ì˜ë„ì™€ ì‘ë™ ë°©ì‹, ì£¼ì˜ì‚¬í•­ì„ í•œêµ­ì–´ ì£¼ì„ìœ¼ë¡œ** ë‚¨ê¸´ë‹¤. (í•œêµ­ì–´: ì‚¬ëŒì„ ìœ„í•œ ì£¼ì„ ì‘ì„±)

---

## SECTION 9: [TEST_DRIVEN_DEVELOPMENT] - í…ŒìŠ¤íŠ¸ ì£¼ë„ ê°œë°œ (í…ŒìŠ¤íŠ¸ ìš°ì„ )
[RULE_ID: TDD_001]

### 9.1 Test-First Workflow
```
1. Write Test Cases First (í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë¨¼ì € ì‘ì„±):
   "[í•¨ìˆ˜]ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë§Œë“¤ì–´ë¼:
   - Normal case (ì •ìƒ ì¼€ì´ìŠ¤): [ì˜ˆìƒ ë™ì‘]
   - Edge cases (ì—£ì§€ ì¼€ì´ìŠ¤): null, ë¹ˆ ê°’, ê²½ê³„ê°’
   - Error cases (ì—ëŸ¬ ì¼€ì´ìŠ¤): ì˜ëª»ëœ ì…ë ¥, ì˜ˆì™¸"

2. Run Tests (should FAIL) (í…ŒìŠ¤íŠ¸ ì‹¤í–‰ - ì‹¤íŒ¨í•´ì•¼ í•¨):

3. Implement Minimum Code (ìµœì†Œ ê¸°ëŠ¥ êµ¬í˜„):

4. Refactor (ë¦¬íŒ©í† ë§):

5. Repeat (ë°˜ë³µ):
```

### 9.2 Test Case Template
```javascript
  // Normal Cases (ì •ìƒ ì¼€ì´ìŠ¤)
  
  // Edge Cases (ì—£ì§€ ì¼€ì´ìŠ¤)
  
  
  
  // Error Cases (ì—ëŸ¬ ì¼€ì´ìŠ¤)
  
```

---

## SECTION 10: [VERIFICATION_ALGORITHM] - ê²€ì¦ ì•Œê³ ë¦¬ì¦˜ (ìê°€ ê²€ì¦)
[RULE_ID: VER_001]

### 10.1 ìë™ ê²€ì¦ íŒŒì´í”„ë¼ì¸
ëª¨ë“  ì½”ë“œ ìˆ˜ì • ì§í›„ ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤:

```bash
# JavaScript/TypeScript

# Python

# Go
```

### 10.2 ì²´í¬ë¦¬ìŠ¤íŠ¸ ìë™í™”
```python
def verify_code(file_path): # ì½”ë“œ ê²€ì¦ í•¨ìˆ˜
        'syntax': run_syntax_check(file_path),      # ë¬¸ë²• ê²€ì‚¬
        'linting': run_linter(file_path),           # ë¦°íŒ… ê²€ì‚¬
        'tests': run_tests(file_path),              # í…ŒìŠ¤íŠ¸ ì‹¤í–‰
        'coverage': check_coverage(file_path),      # í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í™•ì¸
        'security': run_security_scan(file_path)   # ë³´ì•ˆ ìŠ¤ìº”
    
    # ëª¨ë“  ê²€ì‚¬ë¥¼ ìˆœíšŒí•˜ë©° ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë°œìƒ
    for check, result in checks.items():
        if not result.passed:
            raise VerificationError(f"{check} ê²€ì‚¬ ì‹¤íŒ¨: {result.error}")
    
```

---
[RULE_ID: HAL_001]

### 11.1 API/ë¼ì´ë¸ŒëŸ¬ë¦¬ ê²€ì¦ í”„ë¡œí† ì½œ
```
BEFORE using any API/library function (API/ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ ì‚¬ìš© ì „):
1. Check if it exists (ì¡´ì¬ ì—¬ë¶€ í™•ì¸): search_web("[ë¼ì´ë¸ŒëŸ¬ë¦¬] [í•¨ìˆ˜] ê³µì‹ ë¬¸ì„œ")
2. Verify version compatibility (ë²„ì „ í˜¸í™˜ì„± í™•ì¸): "[ê¸°ëŠ¥]ì´ ì¶”ê°€ëœ ë²„ì „ì€?"
3. Check deprecation status (ì§€ì› ì¤‘ë‹¨ ì—¬ë¶€ í™•ì¸): "[í•¨ìˆ˜]ê°€ deprecated ë˜ì—ˆëŠ”ê°€?"
4. Find alternatives (ëŒ€ì•ˆ ì°¾ê¸°): "[í•¨ìˆ˜]ë¥¼ ëŒ€ì²´í•  ì¶”ì²œ ë°©ë²•ì€?"

Example:
âŒ Bad: array.flatMap() // ì¡´ì¬ ì—¬ë¶€ ë¯¸í™•ì¸
âœ… Good: 
   // Verified: Array.prototype.flatMap() available in ES2019+
   // Polyfill required for IE11
```

### 11.2 í™˜ìƒ ë°©ì§€ ì²´í¬ë¦¬ìŠ¤íŠ¸
```
[ ] ì´ í•¨ìˆ˜/ë©”ì„œë“œê°€ ê³µì‹ ë¬¸ì„œì— ì¡´ì¬í•˜ëŠ”ê°€?
[ ] ì‚¬ìš© ì¤‘ì¸ ë²„ì „ì—ì„œ ì§€ì›ë˜ëŠ”ê°€?
[ ] íŒŒë¼ë¯¸í„° ìˆœì„œì™€ íƒ€ì…ì´ ì •í™•í•œê°€?
[ ] ë°˜í™˜ íƒ€ì…ì´ ë§ëŠ”ê°€?
[ ] Deprecated ë˜ì§€ ì•Šì•˜ëŠ”ê°€?
[ ] í•„ìš”í•œ import/requireê°€ ìˆëŠ”ê°€?
```

---

## SECTION 12: [SECURITY_VALIDATION] - ë³´ì•ˆ ê²€ì¦ (ë³´ì•ˆ ìš°ì„ )
[RULE_ID: SEC_001]

### 12.1 OWASP Top 10 ì²´í¬ë¦¬ìŠ¤íŠ¸

#### A01: Broken Access Control (ì˜ëª»ëœ ì ‘ê·¼ ì œì–´)
```python
# âŒ BAD
def get_profile(user_id):

# âœ… GOOD
def get_profile(user_id):
    if current_user.id != user_id and not current_user.is_admin:
```

#### A02: Cryptographic Failures (ì•”í˜¸í™” ì‹¤íŒ¨)
```javascript
// âŒ BAD

// âœ… GOOD
```

#### A03: Injection (ì¸ì ì…˜)
```python
# âŒ SQL Injection

# âœ… Parameterized Query
```

#### A04: Insecure Design (ì•ˆì „í•˜ì§€ ì•Šì€ ì„¤ê³„)
```javascript
// âŒ No rate limiting

// âœ… Rate limiting implemented
  windowMs: 15 * 60 * 1000, // 15 minutes
  max: 5, // 5 attempts
  message: "Too many login attempts, please try again later"
```

#### A05: Security Misconfiguration (ì˜ëª»ëœ ë³´ì•ˆ ì„¤ì •)
```yaml
# âŒ Default credentials in production
database:
  user: admin
  password: admin123

# âœ… Environment variables
database:
  user: ${DB_USER}
  password: ${DB_PASSWORD}
```

#### A06: Vulnerable and Outdated Components (ì·¨ì•½í•˜ê³  ì˜¤ë˜ëœ êµ¬ì„± ìš”ì†Œ)
```json
// âŒ Outdated dependencies
"dependencies": {
  "express": "3.0.0",  // 10ë…„ ì „ ë²„ì „, ë³´ì•ˆ ì·¨ì•½ì  ë‹¤ìˆ˜
  "lodash": "3.10.1"

// âœ… Updated dependencies
"dependencies": {
  "express": "^4.18.0",
  "lodash": "^4.17.21"
```

#### A07: Identification and Authentication Failures (ì‹ë³„ ë° ì¸ì¦ ì‹¤íŒ¨)
```python
# âŒ Weak password policy
if len(password) >= 6:

# âœ… Strong password policy
def validate_password(password):
    if len(password) < 12:
    if not re.search(r'[A-Z]', password):
    if not re.search(r'[a-z]', password):
    if not re.search(r'[0-9]', password):
    if not re.search(r'[!@#$%^&*]', password):
```

#### A08: Software and Data Integrity Failures (ì†Œí”„íŠ¸ì›¨ì–´ ë° ë°ì´í„° ë¬´ê²°ì„± ì‹¤íŒ¨)
```javascript
// âŒ No integrity check
<script src="https://cdn.example.com/library.js"></script>

// âœ… Subresource Integrity (SRI)
  src="https://cdn.example.com/library.js"
```

#### A09: Security Logging and Monitoring Failures (ë³´ì•ˆ ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ ì‹¤íŒ¨)
```python
# âŒ No logging
def process_payment(amount, user_id):

# âœ… Comprehensive logging

def process_payment(amount, user_id):
    logger.info(f"Payment attempt: user={user_id}, amount={amount}")
    try:
        logger.info(f"Payment success: user={user_id}, amount={amount}")
    except Exception as e:
        logger.error(f"Payment failed: user={user_id}, error={str(e)}")
```

#### A10: Server-Side Request Forgery (SSRF, ì„œë²„ ì¸¡ ìš”ì²­ ìœ„ì¡°)
```javascript
// âŒ No URL validation

// âœ… Whitelist validation

  
  
  
```

### 12.2 ë³´ì•ˆ ìŠ¤ìº” ë„êµ¬
```bash
# JavaScript/Node.js

# Python

# General
```

---

## SECTION 13: [ERROR_HANDLING_STRATEGY] - ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ (ì ì§„ì  ê¸°ëŠ¥ ì €í•˜)
[RULE_ID: ERR_001]

### 13.1 ê³„ì¸µì  ì—ëŸ¬ ì²˜ë¦¬

```typescript
// Error Hierarchy (ì—ëŸ¬ ê³„ì¸µ)
    public statusCode: number,
    public message: string,
    public isOperational: boolean = true

  constructor(message: string) {

  constructor(message: string = 'Unauthorized') {

  constructor(resource: string) {
```

### 13.2 ì—ëŸ¬ ë³µêµ¬ íŒ¨í„´

**Retry with Exponential Backoff (ì§€ìˆ˜ì  ë°±ì˜¤í”„ë¥¼ ì‚¬ìš©í•œ ì¬ì‹œë„)**:
```javascript
      
```

**Circuit Breaker (ì„œí‚· ë¸Œë ˆì´ì»¤)**:
```python

class CircuitState(Enum):

class CircuitBreaker:
    def __init__(self, failure_threshold=5, timeout=60):
    
    def call(self, func, *args, **kwargs):
        if self.state == CircuitState.OPEN:
            if self._should_attempt_reset():
            else:
        
        try:
        except Exception as e:
    
    def _on_success(self):
    
    def _on_failure(self):
        
        if self.failure_count >= self.failure_threshold:
    
    def _should_attempt_reset(self):
```

**Fallback Strategy (ëŒ€ì²´ ì „ëµ)**:
```javascript
    // Primary: Database
    return await db.users.findOne({ id: userId });
    console.error('Database error:', dbError);
    
      // Fallback 1: Cache
      const cached = await cache.get(`user:${userId}`);
      console.error('Cache error:', cacheError);
    
    // Fallback 2: Default value
      id: userId,
      name: 'Guest User',
      isDefault: true
```

---

## SECTION 14: [PERFORMANCE_OPTIMIZATION] - ì„±ëŠ¥ ìµœì í™” (íš¨ìœ¨ ìš°ì„ )
[RULE_ID: PERF_001]

### 14.1 ì•Œê³ ë¦¬ì¦˜ ë³µì¡ë„ ëª…ì‹œ
```python
def find_duplicates(arr):
    
    Time Complexity: O(n)
    Space Complexity: O(n)
    
    Alternative O(n log n) with O(1) space:
    - Sort array: O(n log n)
    - Find adjacent duplicates: O(n)
    
    for item in arr:  # O(n)
        if item in seen:  # O(1) average
    
```

### 14.2 ìµœì í™” íŒ¨í„´

**ë©”ëª¨ì´ì œì´ì…˜**:
```javascript
// âŒ O(2^n) - Exponential

// âœ… O(n) - Linear with memoization
  
```

**Lazy Loading (ì§€ì—° ë¡œë”©)**:
```javascript
  private _data: any;
  
```

**Debounce/Throttle (ë””ë°”ìš´ìŠ¤/ì“°ë¡œí‹€)**:
```javascript
// Debounce: ë§ˆì§€ë§‰ í˜¸ì¶œë§Œ ì‹¤í–‰

// Throttle: ì¼ì • ê°„ê²©ìœ¼ë¡œë§Œ ì‹¤í–‰

// Usage
```

**Database Query Optimization (ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ìµœì í™”)**:
```sql
-- âŒ N+1 Query Problem
-- For each user:

-- âœ… JOIN with single query

-- âœ… Index for faster lookups
```

---

## SECTION 15: [ANTI_PATTERNS] - ì•ˆí‹° íŒ¨í„´ (í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒë“¤)
[RULE_ID: ANTI_001]

### ì ˆëŒ€ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒë“¤

#### âŒ God Object / God Class (ë§ŒëŠ¥ ê°ì²´ / ë§ŒëŠ¥ í´ë˜ìŠ¤)
```javascript
// BAD: ëª¨ë“  ì±…ì„ì„ ê°€ì§„ í´ë˜ìŠ¤
  
  // ... ë” ë§ì€ ë©”ì„œë“œë“¤
```

#### âŒ Magic Numbers/Strings (ë§¤ì§ ë„˜ë²„/ë§¤ì§ ìŠ¤íŠ¸ë§)
```python
# BAD
if status_code == 200:
    if user_role == 3:

# GOOD

if status_code == HTTP_OK:
    if user_role == ADMIN_ROLE:
```

#### âŒ Callback Hell (ì½œë°± ì§€ì˜¥)
```javascript
// BAD

// GOOD: async/await
```

#### âŒ Premature Optimization (ì„£ë¶€ë¥¸ ìµœì í™”)
```javascript
// BAD: ì„±ëŠ¥ì„ ìœ„í•´ ê°€ë…ì„± í¬ìƒ

// GOOD: ë¨¼ì € ëª…í™•í•˜ê²Œ, í•„ìš”ì‹œ ìµœì í™”
```

#### âŒ Neglected TODOs (ë°©ì¹˜ëœ TODO ì£¼ì„)
```python
# BAD
def process_payment(amount):
    # TODO: Add validation
    # TODO: Handle errors
    # TODO: Add logging
    # TODO: Implement retry logic
```

#### âŒ Empty Catch Blocks (ë¹ˆ Catch ë¸”ë¡)
```java
// BAD
    // Silently ignoring errors

// GOOD
```

---

## SECTION 16: [WORKFLOW_PIPELINE] - ì›Œí¬í”Œë¡œìš° íŒŒì´í”„ë¼ì¸ (ì¢…í•©ì ì¸ í”„ë¡œì„¸ìŠ¤)
[RULE_ID: FLOW_001]

### ì™„ì „í•œ ì›Œí¬í”Œë¡œìš°

```
1. [REQUIREMENTS_ANALYSIS - ìš”êµ¬ì‚¬í•­ ë¶„ì„]

2. [DESIGN_PHASE - ì„¤ê³„ ë‹¨ê³„]

3. [TEST_DESIGN - í…ŒìŠ¤íŠ¸ ì„¤ê³„]

4. [INCREMENTAL_IMPLEMENTATION - ì ì§„ì  êµ¬í˜„]

5. [CODE_REVIEW_SELF - ìê°€ ì½”ë“œ ë¦¬ë·°]

6. [VERIFICATION - ê²€ì¦]

7. [DOCUMENTATION - ë¬¸ì„œí™”]

8. [OPTIMIZATION - ìµœì í™”] (í•„ìš” ì‹œ)

9. [FINAL_REVIEW - ìµœì¢… ë¦¬ë·°]

10. [DEPLOYMENT_PREP - ë°°í¬ ì¤€ë¹„]
```

---

## SECTION 17: [CONTEXT_MANAGEMENT] - ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ (ë©”ëª¨ë¦¬ ì‹œìŠ¤í…œ)
[RULE_ID: CTX_001]

### Context íŒŒì¼ êµ¬ì¡°

**PROJECT_CONTEXT.md**:
```markdown
# Project: [í”„ë¡œì íŠ¸ëª…]
Last Updated: [ë‚ ì§œ]
Status: [Active/Maintenance/Deprecated]

## Architecture Overview
- **Type**: [Microservices/Monolith/Serverless]
- **Stack**: [ê¸°ìˆ  ìŠ¤íƒ ë‚˜ì—´]
- **Deployment**: [AWS/GCP/Azure/On-premise]

## Completed Features
- [x] User authentication (JWT)
- [x] Payment processing (Stripe)
- [x] Email notifications (SendGrid)

## In Progress
- [ ] Real-time chat (WebSocket) - 60% complete
  - Backend API done
  - Frontend integration pending
  - Load testing needed

## Known Issues
### Critical
- [ ] Memory leak in file upload service (#234)
- [ ] Race condition in order processing (#156)

### Medium
- [ ] Slow query on user search (>2s) (#189)

### Low
- [ ] UI glitch on mobile Safari (#123)

## Architecture Decisions
### ADR-001: Why MongoDB over PostgreSQL
- **Decision**: Use MongoDB for user sessions
- **Reason**: Flexible schema for varying session data
- **Trade-off**: No ACID transactions, eventual consistency
- **Date**: 2024-01-15

### ADR-002: Microservices vs Monolith
- **Decision**: Start as monolith, split later
- **Reason**: Team size (3 devs), faster initial development
- **Plan**: Split when >10K daily active users

## Code Standards
### Naming Conventions
- Functions: `camelCase` (JavaScript), `snake_case` (Python)
- Classes: `PascalCase`
- Constants: `UPPER_SNAKE_CASE`
- Files: `kebab-case.js`, `snake_case.py`

### Error Handling
- Use custom error classes
- Always log with context (user_id, request_id)
- Never expose stack traces to users

### Testing Requirements
- Unit tests: 80%+ coverage
- Integration tests: Critical paths only
- E2E tests: User flows

## Performance Targets
- API response: <200ms (p95)
- Page load: <1.5s (First Contentful Paint)
- Database queries: <100ms (p95)

## Security Checklist
- [x] HTTPS everywhere
- [x] CSRF protection
- [x] XSS sanitization
- [x] SQL injection prevention
- [ ] Penetration testing (scheduled Q2)
- [ ] Bug bounty program (planned)

## Team
- **Tech Lead**: Alice (@alice)
- **Backend**: Bob (@bob), Carol (@carol)
- **Frontend**: David (@david)
- **DevOps**: Eve (@eve)

## Next Steps
1. Complete real-time chat feature
2. Fix memory leak in upload service
3. Optimize user search query
4. Plan Q2 feature roadmap

## References
- [API Documentation](https://docs.example.com)
- [Architecture Diagram](https://miro.com/xyz)
- [Deployment Guide](./docs/deployment.md)
```

---

## SECTION 18: [COLLABORATION_GUIDELINES] - í˜‘ì—… ê°€ì´ë“œë¼ì¸ (íŒ€ì›Œí¬)
[RULE_ID: COLLAB_001]

### AI-Generated Code PR Template
```markdown
## Pull Request: [Title]

### ğŸ¤– AI Assistance Used
- **Tool**: Claude Sonnet 4 / GitHub Copilot / ChatGPT
- **Extent**: [Code generation / Bug fixing / Refactoring / Review]
- **Human Review**: [Thorough / Moderate / Quick scan]

### ğŸ“ Changes
#### Added
- [New feature description]
- [New file: `path/to/file.js`]

#### Modified
- [Changed file: `src/service.js` - refactored authentication logic]
- [Updated dependency: `lodash` 4.17.20 â†’ 4.17.21]

#### Removed
- [Deleted unused function: `oldHelper()`]

### ğŸ¯ Motivation
[ì™œ ì´ ë³€ê²½ì´ í•„ìš”í•œê°€?]

### ğŸ”§ Implementation Details
[ì–´ë–»ê²Œ êµ¬í˜„í–ˆëŠ”ê°€? ì£¼ìš” ê¸°ìˆ ì  ê²°ì •ì‚¬í•­]

### âœ… Testing
- [ ] Unit tests added/updated
- [ ] Integration tests pass
- [ ] Manual testing completed
- [ ] Edge cases covered:
  - [ ] Null inputs
  - [ ] Empty arrays
  - [ ] Boundary values (MAX_INT, MIN_INT)
  - [ ] Network failures
  - [ ] Concurrent requests

### ğŸ”’ Security Review
- [ ] No hardcoded secrets (checked with `git-secrets`)
- [ ] Input validation added
- [ ] SQL injection prevented (parameterized queries)
- [ ] XSS protected (DOMPurify / sanitization)
- [ ] OWASP Top 10 considered
- [ ] Security scan passed: `npm audit` / `snyk test`

### âš¡ Performance
- [ ] No performance regression (benchmarked)
- [ ] Database queries optimized (indexed)
- [ ] Algorithm complexity: O([time]) time, O([space]) space
- [ ] Load tested with [tool]: [results]

### ğŸ“Š Metrics
**Before**:
- API response time: 450ms (p95)
- Test coverage: 72%

**After**:
- API response time: 180ms (p95) â¬‡ 60%
- Test coverage: 84% â¬† 12%

### ğŸš€ Deployment
- [ ] Backward compatible (no breaking changes)
- [ ] Database migration: [Yes/No]
- [ ] Feature flag: [Yes - `enable_new_feature` / No]
- [ ] Rollback plan: [describe]

### ğŸ“¸ Screenshots / Demo
[If UI changes, attach screenshots or GIF/video]

### ğŸ”— Related Issues
- Closes #123
- Related to #456

### ğŸ‘€ Reviewers

### ğŸ“š AI Prompts Used (Optional)

**Prompt 1**: Feature implementation
```
with Stripe integration, handling idempotency and error cases. Requirements:
- Validate payment data (card, CVV, expiry)
- Tokenize before storage
- Handle network timeouts with retry
- Log all transactions
- Return 201 on success, 400 on validation error, 500 on server error
```

**Prompt 2**: Security review
```
```

### âœï¸ Notes for Reviewers
- Focus on error handling in `processPayment()` function
- Verify retry logic doesn't cause duplicate charges
- Check if new dependencies are necessary
```

---

## SECTION 19: [CONTINUOUS_IMPROVEMENT] - ì§€ì†ì ì¸ ê°œì„  (í•™ìŠµê³¼ ì ì‘)
[RULE_ID: CI_001]

### Prompts Library êµ¬ì¡°

**prompts_library.md**:
```markdown
# Prompts Library

## ğŸ¯ Effective Prompts

### Pattern: Secure API Endpoint
**Use Case**: RESTful API with authentication and validation
**Rating**: â­â­â­â­â­ (5/5)

**Prompt**:
```

Task: Create a RESTful API endpoint for [resource]

Requirements:
1. Authentication: JWT token validation
2. Authorization: Role-based access control
3. Input validation: Pydantic/Joi schemas
4. Rate limiting: 100 requests/minute per user
5. Error handling: Structured responses
6. Logging: All access attempts with user_id
7. Testing: 90%+ coverage with edge cases

Tech Stack: [Framework] + [Database]
```

**Result**: Production-ready endpoint with zero security incidents

**Why it worked**:
- Clear persona (senior + security)
- Specific requirements (not vague)
- Quantifiable metrics (rate limits, coverage)
- Explicit tech stack

---

### Pattern: Performance Optimization
**Use Case**: Slow database queries
**Rating**: â­â­â­â­ (4/5)

**Prompt**:
```

Problem: Query taking 3+ seconds with 100K+ records
Current query: [SQL/ORM code]

Analyze:
1. Explain plan / Query execution
2. Missing indexes
3. N+1 query problems
4. Unnecessary JOINs
5. Lock contention

Provide:
- Optimized query
- Required indexes
- Before/after benchmarks
- Explain the Big O improvement
```

**Result**: Query time reduced from 3.2s to 120ms (96% improvement)

**Lesson**: Always include current state + specific metrics

---

## ğŸš« Failed Patterns

### Anti-Pattern: Vague Request
**What I asked**:
```
```

**What went wrong**: AI added unnecessary abstractions, changed working logic, introduced bugs

**Lesson Learned**: Always specify WHAT to improve (performance? readability? security?)

**Better approach**:
```
"Refactor this code focusing ONLY on:
1. Reducing cyclomatic complexity (current: 15 â†’ target: <10)
2. Extracting repeated logic into shared functions
3. Adding error handling for network failures

DO NOT change:
- Function signatures (breaking change)
- Business logic
- Variable names (consistency)
```

---

### Anti-Pattern: No Context Provided
**What I asked**:
```
```

**What went wrong**: AI created basic implementation without security, no rate limiting, vulnerable to brute force

**Better approach**: Use PCTF framework with full context

---

### Anti-Pattern: Accepting First Output
**What I did**: Used AI's first suggestion without review

**What went wrong**: 
- Used deprecated API (express-jwt 5.x instead of 7.x)
- Missing error handling
- No input validation

**Lesson**: Always run verification pipeline + self-review

---

## ğŸ“ˆ Metrics Tracking

### Quality Indicators

### Prompt Effectiveness

---

## ğŸ”„ Feedback Loop Process

1. **Collect**: User reports, PR comments, post-mortems
2. **Analyze**: What prompts/patterns led to issues?
3. **Document**: Add to Failed Patterns section
4. **Iterate**: Update prompts library
5. **Train**: Share learnings with team

```markdown
# Post-Mortem Template

## Incident: [Bug description]
Date: [YYYY-MM-DD]
Severity: [Critical/High/Medium/Low]

### What Happened
[Detailed description]

### Root Cause
- [ ] AI hallucination (non-existent API)
- [ ] Incomplete requirements
- [ ] Missing edge case
- [ ] Security vulnerability
- [ ] Performance issue
- [ ] Other: [specify]

### AI Prompt Used
```
[Original prompt that led to the issue]
```

### What Went Wrong
1. [First mistake]
2. [Second mistake]

### Improved Prompt
```
[Updated prompt that would prevent the issue]
```

### Preventive Measures
- [ ] Add to verification checklist
- [ ] Update prompts library
- [ ] Add to CI/CD pipeline
- [ ] Team training session

### Lessons Learned
[Key takeaways]
```

---

# [MODEL_SPECIFIC_ADAPTATIONS - ëª¨ë¸ë³„ ì ì‘]

## GEMINI_MODE
```
STRENGTHS:
- Long context window (1M+ tokens)
- Multimodal (text, images, code)
- Fast inference

OPTIMIZATIONS:
- Truncation prevention: Limit responses to 200 lines
- Task splitting: Break complex requests into steps
- Context preservation: Include full context in each prompt

BEST FOR:
- Analyzing large codebases
- Refactoring entire modules
- Understanding complex architectures
```

## CLAUDE_MODE
```
STRENGTHS:
- Superior reasoning (Chain-of-Thought)
- Long context (200K tokens)
- Ethical AI principles

OPTIMIZATIONS:
- KISS principle: Prefer simple, clear solutions
- Explicit reasoning: Ask for step-by-step explanations
- Thinking tags: Encourage internal reasoning process

BEST FOR:
- Complex algorithm design
- Security audits
- Architectural decisions
```

## GPT_MODE
```
STRENGTHS:
- Latest syntax (ES2024+, Python 3.12+)
- Plugin ecosystem
- Code Interpreter

OPTIMIZATIONS:
- Temperature=0 for code generation (deterministic)
- Few-shot examples (show don't tell)
- Function calling for structured output

BEST FOR:
- Modern framework integration
- Data analysis + visualization
- Rapid prototyping
```

## COPILOT_MODE
```
STRENGTHS:
- Real-time inline suggestions
- Context-aware (open files)
- IDE integration

OPTIMIZATIONS:
- Clear comments as prompts
- Open related files for context
- Accept/reject quickly (don't overthink)

BEST FOR:
- Boilerplate code
- Test case generation
- Code completion
```

---

# [QUICK_REFERENCE_CARD - ë¹ ë¥¸ ì°¸ì¡° ì¹´ë“œ]

## ê¸´ê¸‰ ìƒí™©ë³„ ëŒ€ì‘

| ì´ì „ ë²„ì „ "ì°¸ê³ " | Showë¡œ ë³´ê¸°ë§Œ | `git show HEAD~1:[file]` |

## í•„ìˆ˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ (ë§¤ ì½”ë“œ ìƒì„± ì‹œ)

```
Phase 0: GIT SAFETY (ìµœìš°ì„ !)
[ ] Safety commitì„ ë§Œë“¤ì—ˆëŠ”ê°€? (ğŸ”’ SAFE:)
[ ] Feature branchì—ì„œ ì‘ì—… ì¤‘ì¸ê°€? (main ì§ì ‘ ìˆ˜ì • ê¸ˆì§€)
[ ] .gitignoreì— secretsê°€ ì œì™¸ë˜ì–´ ìˆëŠ”ê°€?

Phase 1: PLANNING
[ ] PCTF êµ¬ì¡°ë¡œ í”„ë¡¬í”„íŠ¸ ì‘ì„±í–ˆëŠ”ê°€?
[ ] ëª…í™•í™” ì§ˆë¬¸ìœ¼ë¡œ ìš”êµ¬ì‚¬í•­ í™•ì¸í–ˆëŠ”ê°€?
[ ] ì—¬ëŸ¬ ì ‘ê·¼ë²• ë¹„êµí–ˆëŠ”ê°€? (ToT)

Phase 2: DESIGN
[ ] 250ì¤„ ì œí•œ ì¤€ìˆ˜í•˜ëŠ”ê°€?
[ ] íŒŒì¼ ë¶„ë¦¬ ê³„íšì´ ìˆëŠ”ê°€?
[ ] í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë¨¼ì € ì‘ì„±í–ˆëŠ”ê°€?

Phase 3: IMPLEMENTATION
[ ] ë‹¨ê³„ë³„ë¡œ ì§„í–‰ ì¤‘ì¸ê°€?
[ ] ê° ë‹¨ê³„ë§ˆë‹¤ ê²€ì¦í•˜ëŠ”ê°€?
[ ] Edge casesë¥¼ ì²˜ë¦¬í–ˆëŠ”ê°€?

Phase 4: SECURITY
[ ] OWASP Top 10 ì²´í¬í–ˆëŠ”ê°€?
[ ] ì…ë ¥ ê²€ì¦ì´ ìˆëŠ”ê°€?
[ ] ë¹„ë°€ë²ˆí˜¸/í† í° í•˜ë“œì½”ë”© ì—†ëŠ”ê°€?
[ ] .env íŒŒì¼ì´ .gitignoreì— ìˆëŠ”ê°€?

Phase 5: VERIFICATION
[ ] ë¬¸ë²• ê²€ì‚¬ í†µê³¼í–ˆëŠ”ê°€?
[ ] ë¦°í„° ê²½ê³  ì—†ëŠ”ê°€?
[ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ >80%ì¸ê°€?
[ ] git diffë¡œ ë³€ê²½ì‚¬í•­ ê²€í† í–ˆëŠ”ê°€?

Phase 6: DOCUMENTATION
[ ] ì£¼ì„ì´ ëª…í™•í•œê°€?
[ ] README ì—…ë°ì´íŠ¸í–ˆëŠ”ê°€?
[ ] Context íŒŒì¼ ê°±ì‹ í–ˆëŠ”ê°€?

Phase 7: REVIEW
[ ] ìì²´ ì½”ë“œ ë¦¬ë·° ì™„ë£Œí–ˆëŠ”ê°€?
[ ] Anti-pattern ì²´í¬í–ˆëŠ”ê°€?
[ ] PR í…œí”Œë¦¿ ì‘ì„±í–ˆëŠ”ê°€?

Phase 8: GIT COMMIT
[ ] git add -pë¡œ ì„ íƒì  ì¶”ê°€í–ˆëŠ”ê°€?
[ ] Conventional Commits í˜•ì‹ì¸ê°€?
[ ] ì»¤ë°‹ ë©”ì‹œì§€ê°€ ëª…í™•í•œê°€?
[ ] git push ì „ í…ŒìŠ¤íŠ¸ í†µê³¼í–ˆëŠ”ê°€?
```

## í•„ìˆ˜ ëª…ë ¹ì–´ ëª¨ìŒ

### ê²€ì¦ (Verification)
```bash
# JavaScript/TypeScript

# Python

# Go
```

### í…ŒìŠ¤íŒ… (Testing)
```bash
# JavaScript
npm run test:e2e

# Python

# Go
```

### ë³´ì•ˆ (Security)
```bash
# Dependencies

# Code analysis

# Secrets detection
```

### ì„±ëŠ¥ (Performance)
```bash
# Profiling

# Benchmarking
ab -n 1000 -c 10 http://localhost:3000/
wrk -t12 -c400 -d30s http://localhost:3000/
```

### Git (Version Control) - CRITICAL SAFETY RULES
```bash
# âš ï¸ AI ì‘ì—… ì „ í•„ìˆ˜: SAFETY COMMIT
git commit -m "ğŸ”’ BEFORE AI: working state - [feature description]"
# ì´ì œ AIê°€ ë§ì¹˜ë“  ë§ë“  1ì´ˆë§Œì— ë³µì› ê°€ëŠ¥!

# Commit ì „ëµ
git commit -m "feat(auth): add JWT token validation"

# ğŸš« ì ˆëŒ€ ì‚¬ìš© ê¸ˆì§€: git reset --hard (ëª¨ë“  ì‘ì—… ë‚ ì•„ê°!)
# âŒ git reset --hard HEAD~1  # ìœ„í—˜! ë³€ê²½ì‚¬í•­ ì™„ì „ ì‚­ì œ

# âœ… ì•ˆì „í•œ ë³µêµ¬ ë°©ë²•

# âœ… ì´ì „ ë²„ì „ "ì°¸ê³ "ë§Œ í•˜ê¸° (ë®ì–´ì“°ì§€ ì•Šê¸°!)
git show HEAD~1:[file]        # ì´ì „ ë²„ì „ ë‚´ìš© ë³´ê¸°ë§Œ

# âœ… ì„ì‹œ ì €ì¥ (ì»¨í…ìŠ¤íŠ¸ ì „í™˜ ì‹œ)
git stash push -m "WIP: implementing feature X"

# âœ… Feature Branch ì „ëµ (main ì§ì ‘ ìˆ˜ì • ê¸ˆì§€!)
# AI ì‘ì—… í›„ ë§ì¹˜ë©´:
# ë‹¤ì‹œ ì‹œë„:

# âœ… ì‘ì—… ì¤‘ ìµœì‹  main ë°˜ì˜

# âœ… Git Reflog (ë§ˆì§€ë§‰ ë³´ë£¨)
```

---

# [ADVANCED_TECHNIQUES - ê³ ê¸‰ ê¸°ë²•]

## Constraint-Based Programming

```
Constraints for this task:
MUST:
- Use TypeScript strict mode
- Handle all promise rejections
- Follow Airbnb style guide
- Cover edge cases in tests

MUST NOT:
- Use `any` type
- Use `eval()` or `Function()`
- Ignore linter warnings
- Skip error handling

PREFER:
- Functional programming over OOP
- Composition over inheritance
- Explicit over implicit
```

## Meta-Prompting

```
"Given this task: [ì„¤ëª…]

Generate 3 alternative prompts that would help you produce better code:
1. Prompt emphasizing [security/performance/maintainability]
2. Prompt with different [architecture/pattern]
3. Prompt focusing on [edge cases/testing]

```

## Iterative Refinement

```
Iteration 1: "Generate initial implementation"
Iteration 2: "Review your code as a security expert. What's vulnerable?"
Iteration 3: "Fix the vulnerabilities you found"
Iteration 4: "Review as a performance engineer. What's slow?"
Iteration 5: "Optimize the bottlenecks"
Iteration 6: "Final review: is it production-ready?"
```

---

# [FINAL_INSTRUCTION - ìµœì¢… ì§€ì‹œì‚¬í•­]

## ìš°ì„ ìˆœìœ„ ì›ì¹™

```
P0: ì•ˆì „ì„± (Safety)
- ë³´ì•ˆ ì·¨ì•½ì  ì—†ìŒ
- ë°ì´í„° ì†ì‹¤ ì—†ìŒ
- ì‹œìŠ¤í…œ ì•ˆì •ì„±

P1: ì •í™•ì„± (Correctness)
- ë¬¸ë²• ì˜¤ë¥˜ 0%
- ë¡œì§ ì˜¤ë¥˜ 0%
- í™˜ê° 0%

P2: í’ˆì§ˆ (Quality)
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ >80%
- ì½”ë“œ ë¦¬ë·° í†µê³¼
- ë¬¸ì„œí™” ì™„ë£Œ

P3: ì„±ëŠ¥ (Performance)
- ì•Œê³ ë¦¬ì¦˜ ìµœì í™”
- ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì„±
- ì‘ë‹µ ì‹œê°„

P4: ìœ ì§€ë³´ìˆ˜ì„± (Maintainability)
- ê°€ë…ì„±
- ëª¨ë“ˆí™”
- í™•ì¥ì„±
```

## ì² í•™ (Philosophy)




## SECTION 14: [COMMON_MISTAKES_PREVENTION] - ìì£¼ ë°œìƒí•˜ëŠ” ì‹¤ìˆ˜ ë° ì˜ˆë°© ê°€ì´ë“œ

[RULE_ID: MISTAKE_001] - ì½”ë“œ ì˜ë¦¼ (Truncation)
- **ì¦ìƒ**: íŒŒì¼ ìˆ˜ì • í›„ ì¼ë¶€ ì½”ë“œê°€ ì‚¬ë¼ì§€ê±°ë‚˜ "... rest of code ..." ê°™ì€ ì£¼ì„ì´ ë‚˜íƒ€ë‚¨.
- **ì›ì¸**: `write_to_file`ë¡œ í° íŒŒì¼ì„ ì „ì²´ ì¬ì‘ì„±í•˜ë ¤ë‹¤ ì‘ë‹µ ê¸¸ì´ ì œí•œì— ê±¸ë¦¼.
- **ì˜ˆë°©**: 50ì¤„ ì´ìƒì˜ íŒŒì¼ì€ ì ˆëŒ€ `write_to_file`ì„ ì“°ì§€ ì•Šê³ , `replace_file_content`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë³€ê²½ ë¶€ë¶„ë§Œ ìˆ˜ì •í•œë‹¤.
- **ë³µêµ¬**: `git restore [file]`ë¡œ ë³µì› í›„ ì™¸ê³¼ì  ìˆ˜ì •(Surgical Edit)ì„ ë‹¤ì‹œ ì‹œë„í•œë‹¤.

[RULE_ID: MISTAKE_002] - API í™˜ê° (Hallucination)
- **ì¦ìƒ**: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ í˜¸ì¶œ, ì˜ëª»ëœ íŒŒë¼ë¯¸í„° íƒ€ì…, ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë©”ì„œë“œ ì‚¬ìš©.
- **ì›ì¸**: ê³µì‹ ë¬¸ì„œ í™•ì¸ ì—†ì´ APIë¥¼ ê°€ì •í•˜ê±°ë‚˜ ë¹„ìŠ·í•œ í•¨ìˆ˜ì™€ í˜¼ë™í•¨.
- **ì˜ˆë°©**: ì‚¬ìš© ì „ ë°˜ë“œì‹œ `search_web` ë“±ì„ í†µí•´ ê³µì‹ ë¬¸ì„œë¥¼ í™•ì¸í•˜ê³ , í˜„ì¬ í™˜ê²½(ë²„ì „)ì—ì„œ ì§€ì›í•˜ëŠ”ì§€ ê²€ì¦í•œë‹¤.
- **ë³µêµ¬**: ì¦‰ì‹œ ì‚¬ìš©ì„ ì¤‘ë‹¨í•˜ê³  ê³µì‹ ë¬¸ì„œì— ê¸°ë°˜í•œ ì˜¬ë°”ë¥¸ APIë¡œ êµì²´í•œë‹¤.

[RULE_ID: MISTAKE_003] - ê¸°ì¡´ ì½”ë“œ ë®ì–´ì“°ê¸° (Overwriting)
- **ì¦ìƒ**: ìˆ˜ì • í›„ ë‹¤ë¥¸ ê¸°ëŠ¥ì´ ì‚¬ë¼ì§€ê±°ë‚˜ ì£¼ì„ì´ ì‚­ì œë¨.
- **ì›ì¸**: ê¸°ì¡´ ì½”ë“œë¥¼ ì¶©ë¶„íˆ ì½ì§€ ì•Šê³  í•„ìš” ì´ìƒì˜ ë²”ìœ„ë¥¼ ìˆ˜ì •í•¨.
- **ì˜ˆë°©**: ìˆ˜ì • ì „ ì „ì²´ íŒŒì¼ì„ ì½ê³ (`view_file`), ìˆ˜ì •í•  ìœ„ì¹˜ë¥¼ ì •í™•íˆ íŒŒì•…í•˜ì—¬ ìµœì†Œí•œì˜ ë²”ìœ„ë§Œ ë³€ê²½í•œë‹¤.
- **ë³µêµ¬**: Git diffë¥¼ í†µí•´ ì‚­ì œëœ ë¶€ë¶„ì„ í™•ì¸í•˜ê³  ë‹¤ì‹œ ë³µêµ¬í•œë‹¤.

[RULE_ID: MISTAKE_004] - ë¬¸ë²• ì˜¤ë¥˜ (Syntax Error)
- **ì¦ìƒ**: SyntaxError, IndentationError ë“±ìœ¼ë¡œ ì¸í•´ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ.
- **ì›ì¸**: ì œì¶œ ì „ ê²€ì¦ ëˆ„ë½, ë³µì‚¬-ë¶™ì—¬ë„£ê¸° ì‹¤ìˆ˜, ì–¸ì–´ ê°„ ë¬¸ë²• í˜¼ë™.
- **ì˜ˆë°©**: ì œì¶œ ì „ ë°˜ë“œì‹œ `node --check` ë˜ëŠ” `python -m py_compile` ë“± ë¬¸ë²• ê²€ì‚¬ ëª…ë ¹ì„ ì‹¤í–‰í•œë‹¤.

[RULE_ID: MISTAKE_005] - Git ì•ˆì „ ì»¤ë°‹ ëˆ„ë½ (Forgetting Git Safety)
- **ì¦ìƒ**: AIê°€ ì½”ë“œë¥¼ ë§ì³¤ì„ ë•Œ ì´ì „ ìƒíƒœë¡œ ë˜ëŒë¦´ ìˆ˜ ì—†ìŒ.
- **ì›ì¸**: ì‘ì—… ì‹œì‘ ì „ ë³µì› ì§€ì (Commit)ì„ ìƒì„±í•˜ì§€ ì•ŠìŒ.
- **ì˜ˆë°©**: ëª¨ë“  ì½”ë“œ ë³€ê²½ ì‘ì—… ì‹œì‘ ì „ ë°˜ë“œì‹œ `git add . && git commit -m "SAFE: ..."`ë¥¼ ì‹¤í–‰í•œë‹¤.

[RULE_ID: MISTAKE_006] - ë¹„ë°€ì •ë³´ í•˜ë“œì½”ë”© (Hardcoded Secrets)
- **ì¦ìƒ**: API í‚¤, ë¹„ë°€ë²ˆí˜¸ ë“±ì´ ì†ŒìŠ¤ ì½”ë“œì— ë…¸ì¶œë¨.
- **ì›ì¸**: ë³´ì•ˆë³´ë‹¤ í¸ì˜ë¥¼ ìš°ì„ í•˜ê±°ë‚˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì„ ëˆ„ë½í•¨.
- **ì˜ˆë°©**: ì ˆëŒ€ ì†ŒìŠ¤ ì½”ë“œì— ë¹„ë°€ì •ë³´ë¥¼ ì ì§€ ì•ŠëŠ”ë‹¤. ë°˜ë“œì‹œ `.env` íŒŒì¼ì„ ì‚¬ìš©í•˜ê³  ì´ë¥¼ `.gitignore`ì— ë“±ë¡í•œë‹¤.

[RULE_ID: MISTAKE_007] - ë¶ˆì™„ì „í•œ ì—ëŸ¬ ì²˜ë¦¬ (Incomplete Error Handling)
- **ì¦ìƒ**: ë¹ˆ `catch` ë¸”ë¡, ì—ëŸ¬ ë¬´ì‹œ, ë¡œê·¸ ì—†ëŠ” í¬ë˜ì‹œ ë°œìƒ.
- **ì›ì¸**: í˜•ì‹ì ì¸ try-catch ì¶”ê°€ ë° ì˜ˆì™¸ ìƒí™© ê³ ë ¤ ë¶€ì¡±.
- **ì˜ˆë°©**: ë¹ˆ `catch` ë¸”ë¡ì„ ê¸ˆì§€í•˜ê³ , ì—ëŸ¬ ë°œìƒ ì‹œ ë§¥ë½(Context)ì„ í¬í•¨í•œ ë¡œê·¸ë¥¼ ë‚¨ê¸°ë©° ì ì ˆí•œ í´ë°± ë¡œì§ì„ êµ¬í˜„í•œë‹¤.

[RULE_ID: MISTAKE_008] - ì—£ì§€ ì¼€ì´ìŠ¤ ë¬´ì‹œ (Ignoring Edge Cases)
- **ì¦ìƒ**: null/undefined ì…ë ¥, ë¹ˆ ë°°ì—´, ê²½ê³„ê°’ ë“±ì—ì„œ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°œìƒ.
- **ì›ì¸**: ì •ìƒì ì¸ ìƒí™©(Happy Path)ë§Œ ê³ ë ¤í•˜ê³  ì˜ˆì™¸ ìƒí™©ì„ í…ŒìŠ¤íŠ¸í•˜ì§€ ì•ŠìŒ.
- **ì˜ˆë°©**: ì…ë ¥ê°’ ê²€ì¦ì„ ì² ì €íˆ í•˜ê³ , null/empty/boundary ìƒí™©ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ë¨¼ì € ì‘ì„±(TDD)í•œë‹¤.

[RULE_ID: MISTAKE_009] - ê²½ê³  ì—†ëŠ” íŒŒê´´ì  ë³€ê²½ (Breaking Changes)
- **ì¦ìƒ**: ê¸°ì¡´ì— ì˜ ì‘ë™í•˜ë˜ ë‹¤ë¥¸ ëª¨ë“ˆì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•¨.
- **ì›ì¸**: í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë‚˜ ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ ì‹œ ì˜í–¥ ë²”ìœ„ë¥¼ ê³ ë ¤í•˜ì§€ ì•ŠìŒ.
- **ì˜ˆë°©**: íŒŒê´´ì  ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©ìì—ê²Œ ë¯¸ë¦¬ ì•Œë¦¬ê³ , ì˜í–¥ë°›ëŠ” íŒŒì¼ë“¤ì„ ë¦¬ìŠ¤íŠ¸ì—…í•˜ì—¬ ìŠ¹ì¸ì„ ë°›ëŠ”ë‹¤.

[RULE_ID: MISTAKE_010] - í…ŒìŠ¤íŠ¸ ë¶€ì¬ (No Tests)
- **ì¦ìƒ**: ê°œë°œ í™˜ê²½ì—ì„œëŠ” ì‘ë™í•˜ë‚˜ ì‹¤ì œ ë°°í¬ í›„ ë²„ê·¸ê°€ ë°œê²¬ë¨.
- **ì›ì¸**: "ë‚˜ì¤‘ì— í…ŒìŠ¤íŠ¸í•˜ê² ë‹¤"ëŠ” ìƒê°ìœ¼ë¡œ êµ¬í˜„ ì½”ë“œë§Œ ì‘ì„±í•¨.
- **ì˜ˆë°©**: TDD ì›ì¹™ì— ë”°ë¼ í…ŒìŠ¤íŠ¸ë¥¼ ë¨¼ì € ì‘ì„±í•˜ê³ , ìµœì†Œ 80% ì´ìƒì˜ ì»¤ë²„ë¦¬ì§€ë¥¼ ìœ ì§€í•œë‹¤.

---

[RULE_ID: MISTAKE_001]
- **ì½”ë“œ ì˜ë¦¼ (Truncation)**: 50ì¤„ ì´ìƒì˜ íŒŒì¼ì€ ì ˆëŒ€ `write_to_file`ë¡œ ì „ì²´ ì¬ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤. ë°˜ë“œì‹œ `replace_file_content`ë¥¼ ì‚¬ìš©í•˜ì—¬ í•„ìš”í•œ ë¶€ë¶„ë§Œ ìˆ˜ì •í•œë‹¤.
- **API í™˜ê° (Hallucination)**: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” APIë‚˜ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì‚¬ìš© ì „ ë°˜ë“œì‹œ ê³µì‹ ë¬¸ì„œë‚˜ ì›¹ ê²€ìƒ‰ì„ í†µí•´ ì¡´ì¬ ì—¬ë¶€ì™€ íŒŒë¼ë¯¸í„°ë¥¼ í™•ì¸í•œë‹¤.
- **ê¸°ì¡´ ì½”ë“œ ë®ì–´ì“°ê¸°**: ìˆ˜ì • ì‹œ ì˜ë„ì¹˜ ì•Šê²Œ ê¸°ì¡´ ë¡œì§ì´ë‚˜ ì£¼ì„ì„ ì‚­ì œí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•œë‹¤. ìˆ˜ì • ë²”ìœ„ë¥¼ ìµœì†Œí™”í•˜ê³  ì•µì»¤(TargetContent)ë¥¼ ì •í™•íˆ ì§€ì •í•œë‹¤.
- **ë¬¸ë²• ì˜¤ë¥˜ (Syntax Error)**: ì½”ë“œ ì œì¶œ ì „ ë°˜ë“œì‹œ ë¬¸ë²• ê²€ì‚¬ ëª…ë ¹(node --check, python -m py_compile ë“±)ì„ ì‹¤í–‰í•˜ì—¬ ì˜¤ë¥˜ê°€ ì—†ëŠ”ì§€ í™•ì¸í•œë‹¤.
- **Git ì•ˆì „ ì»¤ë°‹ ëˆ„ë½**: ëª¨ë“  ì½”ë“œ ë³€ê²½ ì „ì—ëŠ” ë°˜ë“œì‹œ `git add . && git commit -m "SAFE: ..."`ë¥¼ ì‹¤í–‰í•˜ì—¬ ë³µì› ì§€ì ì„ í™•ë³´í•œë‹¤.
- **ë¹„ë°€ì •ë³´ í•˜ë“œì½”ë”©**: API í‚¤, ë¹„ë°€ë²ˆí˜¸ ë“±ì„ ì½”ë“œì— ì§ì ‘ ì ì§€ ì•ŠëŠ”ë‹¤. ë°˜ë“œì‹œ í™˜ê²½ ë³€ìˆ˜(`.env`)ë¥¼ ì‚¬ìš©í•˜ê³ , `.env`ê°€ `.gitignore`ì— í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.
- **ë¶ˆì™„ì „í•œ ì—ëŸ¬ ì²˜ë¦¬**: ë¹ˆ `catch` ë¸”ë¡ì„ ë§Œë“¤ì§€ ì•ŠëŠ”ë‹¤. ì—ëŸ¬ ë°œìƒ ì‹œ ì ì ˆí•œ ë¡œê¹…ê³¼ í´ë°±(Fallback) ë¡œì§ì„ í¬í•¨í•œë‹¤.
- **ì—£ì§€ ì¼€ì´ìŠ¤ ë¬´ì‹œ**: null, ë¹ˆ ë°°ì—´, ê²½ê³„ê°’ ë“± ì˜ˆì™¸ì ì¸ ìƒí™©ì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ëˆ„ë½í•˜ì§€ ì•ŠëŠ”ë‹¤.
- **ê²½ê³  ì—†ëŠ” íŒŒê´´ì  ë³€ê²½**: í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜ë‚˜ API ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°”ê¿€ ë•ŒëŠ” ë°˜ë“œì‹œ ì‚¬ìš©ìì—ê²Œ ë¯¸ë¦¬ ì•Œë¦¬ê³  ì˜í–¥ ë²”ìœ„ë¥¼ ì„¤ëª…í•œë‹¤.
- **í…ŒìŠ¤íŠ¸ ë¶€ì¬**: ê°€ëŠ¥í•œ í•œ TDD ì›ì¹™ì„ ì¤€ìˆ˜í•˜ë©°, êµ¬í˜„ ì½”ë“œì™€ í•¨ê»˜ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ ê²€ì¦í•œë‹¤.

---

---

## SECTION 14: [DEPLOYMENT_AND_FINAL_CHECK] - ë°°í¬ ë° ìµœì¢… ì ê²€
[RULE_ID: DEP_001]

### 14.1 ëª¨ë°”ì¼ ë°˜ì‘í˜• ì ê²€ (Mobile First Check)
- **VIEWPORT**: `<meta name="viewport" content="width=device-width, initial-scale=1.0">` í•„ìˆ˜ í™•ì¸.
- **TOUCH TARGET**: ë²„íŠ¼/ë§í¬ì˜ í„°ì¹˜ ì˜ì—­ì´ ìµœì†Œ 44px (iOS ê¸°ì¤€) ë˜ëŠ” 48px (Android ê¸°ì¤€) ì´ìƒì¸ì§€ í™•ì¸.
- **OVERFLOW**: `overflow-x: hidden` ë“±ìœ¼ë¡œ ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€.
- **MEDIA QUERIES**: `max-width: 768px` ë“± ëª¨ë°”ì¼ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ì—ì„œ ë ˆì´ì•„ì›ƒ ê¹¨ì§ í™•ì¸.
- **HOVER**: ëª¨ë°”ì¼ì—ì„œëŠ” Hover íš¨ê³¼ê°€ ì—†ìœ¼ë¯€ë¡œ ë¡œì§ ì˜ì¡´ ê¸ˆì§€.

### 14.2 ë¬¸ë²• ë° ë¦°íŠ¸ ìµœì¢… ì ê²€ (Syntax & Lint Final Check)
- **SYNTAX**: `node --check` ë“± ë¬¸ë²• ê²€ì‚¬ í•„ìˆ˜.
- **STRICT MODE**: JS `use strict` ë˜ëŠ” TS `strict: true` ì¤€ìˆ˜.
- **CONSOLE**: ë””ë²„ê¹…ìš© `console.log` ì œê±°.
- **UNUSED**: ë¯¸ì‚¬ìš© ë³€ìˆ˜/import ì œê±°.

### 14.3 ë°°í¬ í˜¸í™˜ì„± ì ê²€ (Netlify/Vercel)
- **BUILD SCRIPT**: `package.json`ì— `build` ìŠ¤í¬ë¦½íŠ¸ ì¡´ì¬ í™•ì¸.
- **OUTPUT DIR**: ë¹Œë“œ ê²°ê³¼ë¬¼ ë””ë ‰í† ë¦¬(dist, build, public ë“±) ëª…ì‹œ.
- **ENTRY POINT**: `index.html` ë˜ëŠ” ì„œë²„ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸ ê²½ë¡œ í™•ì¸.
- **DYNAMIC ROUTES**: SPA(Single Page App)ì˜ ê²½ìš° `_redirects` (Netlify) ë˜ëŠ” `vercel.json` ì„¤ì •ìœ¼ë¡œ 404 ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬ í™•ì¸.
- **ENV VARS**: `.env` íŒŒì¼ì´ ì•„ë‹Œ ë°°í¬ í”Œë«í¼ì˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì‚¬ìš© ì•ˆë‚´.
- **CASE SENSITIVITY**: ë¦¬ëˆ…ìŠ¤ í™˜ê²½(Vercel/Netlify)ì€ ëŒ€ì†Œë¬¸ì êµ¬ë¶„í•˜ë¯€ë¡œ íŒŒì¼ëª… ì°¸ì¡° ì •í™•ì„± í™•ì¸ (`Image/Logo.png` vs `image/logo.png`).

---

## ë§ˆì§€ë§‰ ì²´í¬ë¦¬ìŠ¤íŠ¸


ë§¤ ì½”ë“œ ì œì¶œ ì „:
```
[ ] "ì´ ì½”ë“œê°€ í”„ë¡œë•ì…˜ì— ë°°í¬ë˜ì–´ë„ ë˜ëŠ”ê°€?"
[ ] "ìƒˆë²½ 3ì‹œì— ì¥ì•  ì•Œë¦¼ì´ ì™€ë„ ì•ˆì‹¬í•  ìˆ˜ ìˆëŠ”ê°€?"
[ ] "6ê°œì›” í›„ ë‚´ê°€ ì´ ì½”ë“œë¥¼ ì´í•´í•  ìˆ˜ ìˆëŠ”ê°€?"
[ ] "ì£¼ë‹ˆì–´ ê°œë°œìê°€ ì´ ì½”ë“œë¡œ ë°°ìš¸ ìˆ˜ ìˆëŠ”ê°€?"
[ ] "í•´ì»¤ê°€ ì´ ì½”ë“œë¥¼ ê³µê²©í•œë‹¤ë©´?"
```

**ëª¨ë“  ë‹µì´ "Yes"ì¼ ë•Œë§Œ ìŠ¹ì¸í•œë‹¤.**

---

**MOTTO**: 

